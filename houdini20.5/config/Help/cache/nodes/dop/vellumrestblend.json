{"type": "root", "attrs": {"type": "node", "context": "dop", "internal": "vellumrestblend", "icon": "DOP/vellumconstraints", "tags": "vellum", "since": "17.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Vellum Rest Blend"], "extent": [110, 132]}, {"type": "summary", "indent": 0, "text": ["Blends the current rest values of constraints with a rest state calculated from the current simulation or external geometry."], "extent": [132, 265]}, {"type": "para", "indent": 0, "text": ["The Vellum Rest Blend DOP allows mixing the current rest values of constraints, including rest length and rest angles, with a rest state calculated from the current simulation or external geometry.  When the rest source is the current simulation geometry, this DOP provides an effect similar to controlled plasticity.  Using external geometry, you can achieve other effects such as purposefully stretching or putting bends into cloth or hair, or inflating an object over time."], "extent": [265, 743]}, {"type": "para", "indent": 0, "text": ["If this DOP is used inline with a ", {"scheme": "Node", "value": "/nodes/dop/vellumsource", "type": "link", "text": ["Vellum Source"], "fullpath": "/nodes/dop/vellumsource.html"}, " DOP, the blending will only apply to points in the ", {"scheme": null, "value": "/dopparticles/streams", "type": "link", "text": ["stream"], "fullpath": "/dopparticles/streams.html"}, " created by that node.  In this way you can use separate external rest geometry for each Vellum patch sourced."], "extent": [743, 1008]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1008, 1020], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Activation"], "extent": [1020, 1033], "body": [{"type": "para", "indent": 4, "text": ["Controls if the microsolver is solved at all."], "extent": [1052, 1103]}], "container": true, "attrs": {"id": "activate"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Update Frequency"], "extent": [1103, 1121], "body": [{"type": "para", "indent": 4, "text": ["How frequently to blend rest states."], "extent": [1142, 1184]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Single Frame"], "extent": [1184, 1202], "body": [{"type": "para", "indent": 8, "text": ["Blend the rest states only on the specified ", {"type": "ui", "text": ["Frame"]}, "."], "extent": [1202, 1266]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Each Frame"], "extent": [1266, 1282], "body": [{"type": "para", "indent": 8, "text": ["Blend the rest states once every frame, but not more frequently."], "extent": [1282, 1356]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Each Substep"], "extent": [1356, 1374], "body": [{"type": "para", "indent": 8, "text": ["Blend the rest states every substep.  This has the greatest accuracy, but can slow the simulation."], "extent": [1374, 1483]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "updatemode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Creation Frame"], "extent": [1483, 1499], "body": [{"type": "para", "indent": 4, "text": ["Which frame to blend rest states when ", {"type": "ui", "text": ["Update Frequency"]}, " is set to ", {"type": "ui", "text": ["Single Frame"]}, "."], "extent": [1525, 1617]}], "container": true, "attrs": {"id": "activationframe"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [779, 787], "body": [{"type": "para", "indent": 4, "text": ["Specifies the point group in the geometry whose constraints should be blended with the external rest state.  NOTE: Any group specified here should also exist on the rest geometry."], "extent": [803, 988]}], "container": true, "attrs": {"id": "group"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Blend"], "extent": [1661, 1673], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Constraint Group"], "extent": [988, 1006], "body": [{"type": "para", "indent": 4, "text": ["Specifies the primitive group of constraints whose rest values should be blended with the external rest state."], "extent": [1025, 1141]}], "container": true, "attrs": {"id": "congroup"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Source"], "extent": [1725, 1737], "body": [{"type": "para", "indent": 8, "text": ["Specifies the source of the rest geometry from which to calculate the rest state for blending.   ", {"type": "ui", "text": ["Simulation Geometry"]}, " will use the current state of the simulation, which can be useful to control effects similar to plasticity, ", {"type": "q", "text": ["baking"]}, " the current simulation state into the constraints.  ", {"type": "ui", "text": ["SOP"]}, " specifies external geometry, which should have the same topology as the original input geometry."], "extent": [1762, 2166]}], "container": true, "attrs": {"id": "restsource"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mode"], "extent": [1141, 1147], "body": [{"type": "para", "indent": 4, "text": ["Controls how the rest states are blended.  With a value of ", {"type": "ui", "text": ["Blend"]}, ", the states are blended together using a 0-1 values.  With a value of ", {"type": "ui", "text": ["Distance"]}, ", the current state can move a maximum of the specified Distance units towards the new rest state, e.g. a maximum of 5 degrees for a bend constraint."], "extent": [1167, 1473]}], "container": true, "attrs": {"id": "blendmode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blend"], "extent": [1473, 1480], "body": [{"type": "para", "indent": 4, "text": ["In ", {"type": "ui", "text": ["Blend"]}, " mode, specifies how much of the current rest state and external rest state should be blended together.  With a value of 0, the constraints' rest values will not be modified; with a value of 1, the constraints' rest values will be updated to exactly match the external geometry state."], "extent": [1496, 1798]}], "container": true, "attrs": {"id": "blend"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Distance"], "extent": [1798, 1808], "body": [{"type": "para", "indent": 4, "text": ["In ", {"type": "ui", "text": ["Distance"]}, " mode, specifies how far the constraints' current rest state can be modified towards the external rest state.  This is specified in the units of the constraint, so generally should be specified for only one constraint type at a time using the ", {"type": "ui", "text": ["Constraint Group"]}, ".  For Stretch constraints this value is specified in length units (typically meters); for Bend constraints it is in degrees."], "extent": [1827, 2236]}], "container": true, "attrs": {"id": "distance"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blend Masking"], "extent": [2236, 2251], "body": [{"type": "para", "indent": 4, "text": ["Determines which masking behavior to use for blending."], "extent": [2270, 2330]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["None"], "extent": [2330, 2340], "body": [{"type": "para", "indent": 8, "text": ["No masking. Sets a single blend value for the entire set of affected constraints."], "extent": [2340, 2431]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Set From Attribute"], "extent": [2431, 2455], "body": [{"type": "para", "indent": 8, "text": ["Computes blend values for each constraint from the provided ", {"type": "ui", "text": ["Blend Mask Attribute"]}, " using all the points of the constraint on the new rest state geometry, as accumulated by ", {"type": "ui", "text": ["Promotion Method"]}, "."], "extent": [2455, 2660]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Scale From Attribute"], "extent": [2660, 2686], "body": [{"type": "para", "indent": 8, "text": ["Computes values for each constraint from the provided ", {"type": "ui", "text": ["Blend Mask Attribute"]}, " on all the points of the constraint on the new rest state geometry, as accumulated by ", {"type": "ui", "text": ["Promotion Method"]}, ", then scales the ", {"type": "ui", "text": ["Blend"]}, " or ", {"type": "ui", "text": ["Distance"]}, " parameter by that amount."], "extent": [2686, 2950]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "maskmode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blend Mask Attribute"], "extent": [2950, 2972], "body": [{"type": "para", "indent": 4, "text": ["Specifies the name of the point attribute that is used to dictate the local value of the blend for each constraint.   This point attribute should be on the source rest geometry that holds the new rest state.  If the mask attribute is not found on that geometry, the constraints will be blended by the ", {"type": "ui", "text": ["Blend"]}, " or ", {"type": "ui", "text": ["Distance"]}, " slider value instead."], "extent": [2993, 3347]}], "container": true, "attrs": {"id": "maskattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Promotion Method"], "extent": [40204, 40223], "body": [{"type": "para", "indent": 4, "text": ["The scale-by-attribute functions have to apply the possible different scale attribute values on the points involved in the constraint to a single constraint.  This controls how they are blended together."], "extent": [40247, 40456]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Maximum"], "extent": [40456, 40469], "body": [{"type": "para", "indent": 8, "text": ["The maximum scale factor is used."], "extent": [40469, 40512]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Minimum"], "extent": [40512, 40525], "body": [{"type": "para", "indent": 8, "text": ["The minimum scale factor is used."], "extent": [40525, 40568]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Average"], "extent": [40568, 40581], "body": [{"type": "para", "indent": 8, "text": ["The average of the points scale factors is used."], "extent": [40581, 40639]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Multiply"], "extent": [40639, 40653], "body": [{"type": "para", "indent": 8, "text": ["The scale factors are all multiplied together."], "extent": [40653, 40709]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Use Source"], "extent": [40709, 40725], "body": [{"type": "para", "indent": 8, "text": ["The source points scale factor is used, such as in a stitch constraint."], "extent": [40725, 40806]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Use Target"], "extent": [40806, 40822], "body": [{"type": "para", "indent": 8, "text": ["The target points scale factor is used, such as in a stitch constraint."], "extent": [40822, 40903]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "attribpromote"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Use Timestep"], "extent": [15, 29], "body": [{"type": "para", "indent": 4, "text": ["Determines if the current solver timestep will be used to apply\n    this node.  "], "extent": [29, 119]}, {"type": "para", "indent": 4, "text": ["If set, the current timestep size will be multiplied\n    by the scale and used for the time increment for this operation.\n    Otherwise, the time scale will specify an absolute fictitious time\n    to integrate by."], "extent": [119, 338]}, {"type": "para", "indent": 4, "text": ["By disabling the link between the actual real time and the\n    microsolver time, you can perform operations in a separate,\n    fictitious, time."], "extent": [338, 487]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Time Scale"], "extent": [487, 499], "body": [{"type": "para", "indent": 4, "text": ["The timestep used for this microsolver will be scaled by this\n    amount.  This allows one to achieve non-realistic effects, such as\n    parts of the simulation operating at different speeds than other\n    parts.  "], "extent": [499, 723]}, {"type": "para", "indent": 4, "text": ["Similarly, it is useful if a solver needs to be evaluated\n    independently of the main timestep."], "extent": [723, 825]}], "container": true, "role": "item"}], "container": true}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [2507, 2516], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/dop/vellumsolver", "type": "link", "text": "", "fullpath": "/nodes/dop/vellumsolver.html"}], "extent": [2516, 2546]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/dop/vellumsource", "type": "link", "text": "", "fullpath": "/nodes/dop/vellumsource.html"}], "extent": [2546, 2576]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/dop/vellumconstraints", "type": "link", "text": "", "fullpath": "/nodes/dop/vellumconstraints.html"}], "extent": [2576, 2611]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/vellumrestblend", "type": "link", "text": "", "fullpath": "/nodes/sop/vellumrestblend.html"}], "extent": [2611, 2645]}], "container": true}], "text": "Related"}], "title": ["Vellum Rest Blend"], "summary": ["Blends the current rest values of constraints with a rest state calculated from the current simulation or external geometry."], "included": ["/nodes/dop/standard_gas_timestep", "/nodes/sop/vellumconstraints", "/nodes/sop/vellumrestblend"]}