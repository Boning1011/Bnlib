{"type": "root", "attrs": {"type": "node", "context": "lop", "internal": "karmaphysicalsky", "version": "2.0", "icon": "SCENEGRAPH/domelight", "group": "lighting", "since": "20.0", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Karma Physical Sky"], "extent": [0, 23]}, {"type": "summary", "indent": 0, "text": ["Creates a Karma Sky Dome and Sun Light rig."], "extent": [150, 201]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [201, 216], "body": [{"type": "para", "indent": 0, "text": ["Karma Physical Sky combines the ", {"scheme": "Node", "value": "/nodes/lop/karmaskydomelight", "type": "link", "text": ["Karma Sky Dome Light LOP"], "fullpath": "/nodes/lop/karmaskydomelight.html"}, " and the ", {"scheme": "Node", "value": "/nodes/lop/distantlight", "type": "link", "text": ["Distant Light LOP"], "fullpath": "/nodes/lop/distantlight.html"}, ", to provide a physically-based analytical model of the daytime sky."], "extent": [216, 422]}, {"type": "para", "indent": 0, "text": ["The sky model is based on ", {"scheme": null, "value": "https://cgg.mff.cuni.cz/projects/SkylightModelling/HosekWilkie_SkylightModel_SIGGRAPH2012_Preprint_lowres.pdf", "type": "link", "text": ["An Analytic Model for Full Spectral Sky-Dome Radiance"], "exists": true}, " by Hosek et al."], "extent": [422, 631]}, {"level": 3, "id": "oview", "container": true, "type": "h", "indent": 0, "text": ["Creating vs. editing prims"], "extent": [5350, 5391], "body": [{"type": "para", "indent": 0, "text": ["This node belongs to a class of ", {"type": "strong", "text": ["nodes that create or edit USD prims directly"]}, ". These nodes operate in ", {"type": "em", "text": ["Create mode"]}, " or ", {"type": "em", "text": ["Edit mode"]}, ". This is controlled by a ", {"type": "ui", "text": ["Create primitives"]}, " checkbox or a ", {"type": "em", "text": ["Create/Edit popup menu"]}, ". In create mode, the node creates new prims. In edit mode, the node changes the attributes on an existing prim. The ", {"type": "em", "text": ["Edit mode"]}, " has two variations. ", {"type": "em", "text": ["Edit"]}, " will not modify primitives which have a ", {"type": "code", "text": ["houdini:editable"]}, " attribute set to ", {"type": "code", "text": ["false"]}, ". ", {"type": "em", "text": ["Force edit"]}, " will modify a primitive regardless of the existence or value of this attribute. This attribute can be set on a primitive using the ", {"scheme": null, "value": "/nodes/lop/configureprimitive", "type": "link", "text": ["Configure Primitives LOP"], "fullpath": "/nodes/lop/configureprimitive.html"}, "."], "extent": [5391, 6053]}, {"type": "para", "indent": 0, "text": ["Parameters that correspond to a USD attribute have a pop-up menu to the left that controls ", {"type": "em", "text": ["how"]}, " the node authors the attribute."], "extent": [6053, 6183]}, {"type": "para", "indent": 0, "text": ["In addition to that, any connectable USD attributes (i.e., the ones in the ", {"type": "code", "text": ["inputs:"]}, " namespace) will have menu items that allow disconnecting them from their sources."], "extent": [6183, 6351]}, {"type": "box_group", "body": [{"ext": null, "type": "box", "indent": 0, "role": "item", "extent": [6351, 6357], "body": [{"type": "table", "thead": [{"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Pop-up menu item "], "role": "th", "extent": [6384, 6408], "container": true, "attrs": {"width": "25%"}}, {"type": "cell", "indent": 8, "text": ["Meaning "], "role": "th", "extent": [6428, 6447]}], "divider": false}], "body": [{"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Set or Create "], "role": "td", "extent": [6447, 6468], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Sets the attribute to the given value, whether it previously existed or not."], "extent": [6468, 6554]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Set If Exists "], "role": "td", "extent": [6554, 6574], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Only set the attribute to the given value if it previously existed."], "extent": [6574, 6651]}, {"type": "para", "indent": 8, "text": ["Use this mode to make sure an attribute is only set on primitives of the correct type. For example, only ", {"type": "code", "text": ["UsdGeomSphere"]}, " primitives are likely to have a ", {"type": "code", "text": ["radius"]}, " attribute."], "extent": [6651, 6833]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Block "], "role": "td", "extent": [6833, 6845], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Makes the attribute appear to not exist, so it takes on its default value. (If the attribute doesn\u2019t already exist on the prim, this does nothing.)"], "extent": [6845, 7002]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Disconnect Input "], "role": "td", "extent": [7002, 7025], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Deletes the attribute input connection to its source. Input connections take precedence over attribute values, so disconnecting an input allows the attribute value to take effect."], "extent": [7025, 7214]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Do Nothing "], "role": "td", "extent": [7214, 7231], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Ignore this parameter, don\u2019t create or change the attribute in any way."], "extent": [7231, 7313]}]}], "divider": false}]}], "container": true, "attrs": {"id": "control_menu"}}], "container": true, "role": "item_group"}]}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [662, 674], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Intensity"], "extent": [674, 686], "body": [{"type": "para", "indent": 4, "text": ["Sets the intensity of the Sun ", {"type": "em", "text": ["and"]}, " sky dome lights."], "extent": [706, 764]}], "container": true, "attrs": {"id": "intensity"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Exposure"], "extent": [764, 774], "body": [{"type": "para", "indent": 4, "text": ["Sets the exposure of the Sun ", {"type": "em", "text": ["and"]}, " sky dome lights."], "extent": [793, 850]}], "container": true, "attrs": {"id": "exposure"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Render Light Geometry"], "extent": [850, 873], "body": [{"type": "para", "indent": 4, "text": ["Show the sky dome/Sun lights directly in the render."], "extent": [898, 956]}], "container": true, "attrs": {"id": "renderlightgeo"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Sky Mode"], "extent": [956, 966], "body": [{"type": "para", "indent": 4, "text": ["Choose whether to use a ", {"scheme": null, "value": "/nodes/lop/karmaskydomelight", "type": "link", "text": ["Karma Sky Dome Light LOP"], "fullpath": "/nodes/lop/karmaskydomelight.html"}, " or a ", {"scheme": null, "value": "/nodes/lop/karmaskyatmosphere", "type": "link", "text": ["Karma Sky Atmosphere LOP"], "fullpath": "/nodes/lop/karmaskyatmosphere.html"}, " for the sky."], "extent": [984, 1144]}], "container": true, "attrs": {"id": "skymode"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Sun"], "extent": [1144, 1154], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Angular Size"], "extent": [1154, 1173], "body": [{"type": "para", "indent": 8, "text": ["The visual size of the Sun, represented by the angular diameter in degrees. The size doesn\u2019t affect scene brightness. but ypu can use it to achieve soft shadows."], "extent": [1197, 1368]}], "container": true, "attrs": {"id": "sun_angle"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Use"], "extent": [1368, 1377], "body": [{"type": "para", "indent": 8, "text": ["You can set sky lights manually through ", {"type": "ui", "text": ["Solar Altitude"]}, " and ", {"type": "ui", "text": ["Solar Azimuth"]}, " or ", {"type": "ui", "text": ["Use Location/Date/Time"]}, "."], "extent": [1401, 1522]}], "container": true, "attrs": {"id": "set_using"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Solar Altitude"], "extent": [1522, 1542], "body": [{"type": "para", "indent": 8, "text": ["The vertical angle (", {"type": "q", "text": ["height"]}, ") of the Sun in the sky measured from the horizon."], "extent": [1571, 1659]}], "container": true, "attrs": {"id": "solar_altitude"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Solaris Azimuth"], "extent": [1659, 1680], "body": [{"type": "para", "indent": 8, "text": ["The horizontal angle along the horizon, where ", {"type": "code", "text": ["0"]}, " corresponds to the -Z axis."], "extent": [1708, 1795]}], "container": true, "attrs": {"id": "solar_azimuth"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Latitude"], "extent": [1795, 1809], "body": [{"type": "para", "indent": 8, "text": ["Every point on Earth has a latitude-longitude address. Specify a location\u2019s latitude (north-south position) on the Earth\u2019s geographic coordinate system. Both coordinates determine the sky\u2019s colors in conjunction with ", {"type": "ui", "text": ["Date"]}, " and ", {"type": "ui", "text": ["Time"]}, "."], "extent": [1836, 2085]}], "container": true, "attrs": {"id": "geo_latitude"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Longitude"], "extent": [2085, 2100], "body": [{"type": "para", "indent": 8, "text": ["Every point on Earth has a latitude-longitude address. Specify a location\u2019s latitude (east-west position) on the Earth\u2019s geographic coordinate system. Both coordinates determine the sky\u2019s colors in conjunction with ", {"type": "ui", "text": ["Date"]}, " and ", {"type": "ui", "text": ["Time"]}, "."], "extent": [2128, 2375]}], "container": true, "attrs": {"id": "geo_longitude"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Date"], "extent": [2375, 2385], "body": [{"type": "para", "indent": 8, "text": ["Specify month and day to determine the sky\u2019s colors in conjunction with ", {"type": "ui", "text": ["Latitude"]}, ", ", {"type": "ui", "text": ["Longitude"]}, " and ", {"type": "ui", "text": ["Time"]}, "."], "extent": [2409, 2532]}], "container": true, "attrs": {"id": "geo_month"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Time"], "extent": [2532, 2542], "body": [{"type": "para", "indent": 8, "text": ["Specify the time of the day to determine the sky\u2019s colors in conjunction with ", {"type": "ui", "text": ["Latitude"]}, ", ", {"type": "ui", "text": ["Longitude"]}, " and ", {"type": "ui", "text": ["Date"]}, ". The first dropdown menu lets you switch between ", {"type": "ui", "text": ["24h"]}, ", __AM_ and ", {"type": "ui", "text": ["PM"]}, " time displays. The second dropdown provides preconfigured time zones with appropriate time offsets."], "extent": [2566, 2869]}], "container": true, "attrs": {"id": "geo_timex"}, "role": "item"}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["Daylight Saving"], "extent": [2869, 2889], "body": [{"type": "para", "indent": 8, "text": ["Turn on this feature to consider daylight saving time."], "extent": [2916, 2980]}], "container": true, "attrs": {"id": "geo_daylight"}}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Enable Sun Light"], "extent": [2980, 3002], "body": [{"type": "para", "indent": 8, "text": ["Creates the ", {"type": "code", "text": ["sun"]}, " ", {"scheme": "Node", "value": "/nodes/lop/distantlight", "type": "link", "text": ["Distant Light LOP"], "fullpath": "/nodes/lop/distantlight.html"}, " prim in the scene."], "extent": [3031, 3119]}], "container": true, "attrs": {"id": "enablesunlight"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Base"], "extent": [3119, 3134], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Intensity"], "extent": [3134, 3154], "body": [{"type": "para", "indent": 12, "text": ["A linear scale of the light\u2019s power output."], "extent": [3186, 3243]}], "container": true, "attrs": {"id": "sun_intensity"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Exposure"], "extent": [3243, 3261], "body": [{"type": "para", "indent": 12, "text": ["Scales the power output exponentially as a power of 2, similar to an F-stop control. ", {"type": "code", "text": ["0"]}, " maintains the adjusted ", {"type": "ui", "text": ["Intensity"]}, ", negative numbers scale ", {"type": "ui", "text": ["Intensity"]}, " down by the square, positive numbers scale ", {"type": "ui", "text": ["Intensity"]}, " up. You typically set ", {"type": "ui", "text": ["Intensity"]}, " to what looks like the right amount of light, and then use this parameter to fine-tune it."], "extent": [3293, 3654]}], "container": true, "attrs": {"id": "sun_intensity"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Color"], "extent": [3654, 3669], "body": [{"type": "para", "indent": 12, "text": ["The color of the light, in energy-linear terms."], "extent": [3697, 3758]}], "container": true, "attrs": {"id": "sun_color"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Diffuse Multiplier"], "extent": [3758, 3786], "body": [{"type": "para", "indent": 12, "text": ["Scales the effect of the light on the diffuse response of shaders. This is a non-physical ", {"type": "q", "text": ["tweak"]}, "."], "extent": [3816, 3928]}], "container": true, "attrs": {"id": "sun_diffuse"}, "role": "item"}], "container": true, "role": "item_group"}, {"type": "para", "indent": 8, "text": ["Specular Multiplier"], "extent": [3928, 3956], "body": [{"type": "para", "indent": 12, "text": ["Scales the effect of the light on the specular response of shaders. This is a non-physical ", {"type": "q", "text": ["tweak"]}, "."], "extent": [3987, 4100]}], "container": true, "attrs": {"id": "sun_specular"}}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Sampling"], "extent": [4100, 4119], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["MIS Bias"], "extent": [4119, 4138], "body": [{"type": "para", "indent": 12, "text": ["Controls, whether multiple importance sampling will sample from the BSDF, the light, or both the BSDF and light."], "extent": [4168, 4294]}], "container": true, "attrs": {"id": "sun_misbias"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Sampling Mode"], "extent": [4294, 4317], "body": [{"type": "para", "indent": 12, "text": ["When using the light tree for rendering, Karma will try to put any light source that\u2019s compatible into the tree. This option can force a light to be excluded from the tree and subject to uniform sampling, which can sometimes yield an improved sampling quality the light at the expense of speed."], "extent": [4352, 4660]}], "container": true, "attrs": {"id": "sun_samplingmode"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Sampling Quality"], "extent": [4660, 4686], "body": [{"type": "para", "indent": 12, "text": ["This is the per-light sampling quality, that acts as a multiplier on the global Light Sampling Quality. Increasing the quality will add additional samples for this light source, improving the sampling quality of this light relative to other light sources."], "extent": [4724, 4993]}], "container": true, "attrs": {"id": "sun_samplingquality"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Light"], "extent": [4993, 5009], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Contributions"], "extent": [5009, 5033], "body": [{"type": "para", "indent": 12, "text": ["Provides detailed control over which BSDF component the light affects."], "extent": [5064, 5148]}], "container": true, "attrs": {"id": "sun_contribs"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["LPE Tag"], "extent": [5148, 5165], "body": [{"type": "para", "indent": 12, "text": ["Custom label assigned to lights or objects for use with light path expression."], "extent": [5194, 5286]}], "container": true, "attrs": {"id": "sun_lpetag"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Sky"], "extent": [5286, 5296], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Turbidity"], "extent": [5296, 5312], "body": [{"type": "para", "indent": 8, "text": ["Measure of the aerosol content of the air which defines the sky appearance."], "extent": [5336, 5420], "body": [{"type": "para", "indent": 16, "text": ["A ", {"type": "ui", "text": ["Turbidity"]}, " value of ", {"type": "code", "text": ["2"]}, " yields a very clear, Arctic-like sky, ", {"type": "code", "text": ["3"]}, " a clear sky in a temperate climate, ", {"type": "code", "text": ["6"]}, " a sky on a warm, moist day, ", {"type": "code", "text": ["10"]}, " a slightly hazy day."], "extent": [5420, 5602]}], "container": true}], "container": true, "attrs": {"id": "turbidity"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Ground Albedo"], "extent": [5602, 5621], "body": [{"type": "para", "indent": 8, "text": ["The ground reflectivity that affects the sky color."], "extent": [5649, 5710]}], "container": true, "attrs": {"id": "ground_albedo"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Compute Ground Color"], "extent": [5710, 5736], "body": [{"type": "para", "indent": 8, "text": ["Automatically set the ground color based on the ", {"type": "ui", "text": ["Ground Albedo"]}, ". Turn this option off to set the ground color manually."], "extent": [5769, 5900]}], "container": true, "attrs": {"id": "computegroundcolor"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Ground Color"], "extent": [5900, 5918], "body": [{"type": "para", "indent": 8, "text": ["The visual ground color as seen in the render."], "extent": [5945, 6001]}], "container": true, "attrs": {"id": "ground_color"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Horizon Blur Falloff"], "extent": [6001, 6027], "body": [{"type": "para", "indent": 8, "text": ["The angle in degrees below horizon where the sky and the ground color are blended to blur the horizon."], "extent": [6054, 6166]}], "container": true, "attrs": {"id": "horizon_blur"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Enable Sky Light"], "extent": [6166, 6188], "body": [{"type": "para", "indent": 8, "text": ["Creates the ", {"type": "code", "text": ["sky"]}, " Karma Sky Dome Light LOP in the scene."], "extent": [6217, 6283]}], "container": true, "attrs": {"id": "enablesunlight"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Base"], "extent": [6283, 6298], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Intensity"], "extent": [6298, 6318], "body": [{"type": "para", "indent": 12, "text": ["A linear scale on the power output of the light."], "extent": [6350, 6412]}], "container": true, "attrs": {"id": "sky_intensity"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Exposure"], "extent": [6412, 6430], "body": [{"type": "para", "indent": 12, "text": ["Scales the power output exponentially as a power of 2, similar to an F-stop control. ", {"type": "code", "text": ["0"]}, " maintains the adjusted ", {"type": "ui", "text": ["Intensity"]}, ", negative numbers scale ", {"type": "ui", "text": ["Intensity"]}, " down by the square, positive numbers scale ", {"type": "ui", "text": ["Intensity"]}, " up. You typically set ", {"type": "ui", "text": ["Intensity"]}, " to what looks like the right amount of light, and then use this parameter to fine-tune it."], "extent": [6462, 6823]}], "container": true, "attrs": {"id": "sky_intensity"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Color"], "extent": [6823, 6838], "body": [{"type": "para", "indent": 12, "text": ["The color of the light, in energy-linear terms."], "extent": [6866, 6927]}], "container": true, "attrs": {"id": "sun_color"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Diffuse Multiplier"], "extent": [6927, 6955], "body": [{"type": "para", "indent": 12, "text": ["Scales the effect of the light on the diffuse response of shaders. This is a non-physical ", {"type": "q", "text": ["tweak"]}, "."], "extent": [6985, 7097]}], "container": true, "attrs": {"id": "sun_diffuse"}, "role": "item"}], "container": true, "role": "item_group"}, {"type": "para", "indent": 8, "text": ["Specular Multiplier"], "extent": [7097, 7125], "body": [{"type": "para", "indent": 12, "text": ["Scales the effect of the light on the specular response of shaders. This is a non-physical ", {"type": "q", "text": ["tweak"]}, "."], "extent": [7156, 7270]}], "container": true, "attrs": {"id": "sun_specular"}}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Sampling"], "extent": [7270, 7289], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["MIS Bias"], "extent": [7289, 7308], "body": [{"type": "para", "indent": 12, "text": ["Controls whether multiple importance sampling will sample from the BSDF, the light, or both the BSDF and light."], "extent": [7338, 7463]}], "container": true, "attrs": {"id": "sky_misbias"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Sampling Mode"], "extent": [7463, 7486], "body": [{"type": "para", "indent": 12, "text": ["When using the light tree for rendering, Karma will try to put any light source that\u2019s compatible into the tree. This option can force a light to be excluded from the tree and subject to uniform sampling, which can sometimes yield an improved sampling quality the light at the expense of speed."], "extent": [7521, 7829]}], "container": true, "attrs": {"id": "sky_samplingmode"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Sampling Quality"], "extent": [7829, 7855], "body": [{"type": "para", "indent": 12, "text": ["This is the per-light sampling quality, that acts as a multiplier on the global Light Sampling Quality. Increasing the quality will add additional samples for this light source, improving the sampling quality of this light relative to other light sources."], "extent": [7893, 8162]}], "container": true, "attrs": {"id": "sky_samplingquality"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 4, "text": ["Light"], "extent": [8162, 8178], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Contributions"], "extent": [8178, 8202], "body": [{"type": "para", "indent": 12, "text": ["Provides detailed control over which BSDF component the light affects."], "extent": [8233, 8317]}], "container": true, "attrs": {"id": "sky_contribs"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["LPE Tag"], "extent": [8317, 8334], "body": [{"type": "para", "indent": 12, "text": ["Custom label assigned to lights or objects for use with light path expression."], "extent": [8363, 8455]}], "container": true, "attrs": {"id": "sky_lpetag"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Atmosphere"], "extent": [8455, 8472], "body": [{"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1639, 1651], "body": [{"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Rayleigh"], "extent": [1651, 1667], "body": [{"type": "para", "indent": 0, "text": ["Rayleigh scattering models light interacting with air molecules to give Earth\u2019s sky its signature blue color at daytime and orange color at sunrise/sunset."], "extent": [1667, 1825]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 0, "text": [" ", {"scheme": "Image", "value": "/images/nodes/lop/karmaskyatmosphere_rayleigh.jpg", "type": "img", "text": ""}], "role": "item", "extent": [1825, 1889], "body": [{"type": "summary", "indent": 4, "text": ["Effect of Rayleigh scattering with change in Sun\u2019s elevation."], "extent": [1889, 1962]}], "container": true}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Scatter"], "extent": [1962, 1971], "body": [{"type": "para", "indent": 4, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Scale"]}, " and creates a Rayleigh scattering coefficient for each color channel representing the amount of light that is scattered by pure air."], "extent": [1993, 2173]}], "container": true, "attrs": {"id": "rayleighcol"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Scale"], "extent": [2173, 2180], "body": [{"type": "para", "indent": 4, "text": ["Multiplier for Rayleigh ", {"type": "ui", "text": ["Scatter"]}, "."], "extent": [2204, 2246]}], "container": true, "attrs": {"id": "rayleighscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Distribution"], "extent": [2246, 2260], "body": [{"type": "para", "indent": 4, "text": ["Controls, how fast the air density falls off with increasing altitude. This parameter is measured in kilometers and multiplied by ", {"type": "ui", "text": ["Unit Scale"]}, ". For example, with the default of ", {"type": "code", "text": ["8"]}, " km and a ", {"type": "ui", "text": ["Unit Scale"]}, " of ", {"type": "code", "text": ["1000"]}, ", air density is 37% at 8000 units above sea level."], "extent": [2283, 2556]}, {"type": "para", "indent": 4, "text": [{"type": "ui", "text": ["Distribution"]}, " uses Nishita\u2019s exponential decay model (referred to as ", {"type": "q", "text": ["Scale Height"]}, " in literature) for calculating air density."], "extent": [2556, 2692]}], "container": true, "attrs": {"id": "rayleighdist"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Mie"], "extent": [2692, 2702], "body": [{"type": "para", "indent": 0, "text": ["Mie scattering/absorption models large aerosols in air such as water or dust particles creating smoggy haze and haloing around light sources such as the Sun."], "extent": [2702, 2866]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 0, "text": [" ", {"scheme": "Image", "value": "/images/nodes/lop/karmaskyatmosphere_mie.jpg", "type": "img", "text": ""}], "role": "item", "extent": [2866, 2925], "body": [{"type": "summary", "indent": 4, "text": ["Without and with Mie scattering."], "extent": [2925, 2969]}], "container": true}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Scatter"], "extent": [2969, 2978], "body": [{"type": "para", "indent": 4, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Scale"]}, " and creates a Mie scattering coefficient for each color channel representing the amount of light that is scattered by aerosols."], "extent": [3002, 3177]}], "container": true, "attrs": {"id": "miescattercol"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Scatter Scale"], "extent": [3177, 3192], "body": [{"type": "para", "indent": 4, "text": ["Multiplier for Mie ", {"type": "ui", "text": ["Scatter"]}, "."], "extent": [3218, 3255]}], "container": true, "attrs": {"id": "miescatterscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Absorption"], "extent": [3255, 3267], "body": [{"type": "para", "indent": 4, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Absorption Scale"]}, " and creates a Mie absorption coefficient for each color channel representing the amount of light that is absorbed by aerosols."], "extent": [3290, 3475]}], "container": true, "attrs": {"id": "mieabsorpcol"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Absorption Scale"], "extent": [3475, 3493], "body": [{"type": "para", "indent": 4, "text": ["Multiplier for Mie ", {"type": "ui", "text": ["Absorption"]}, "."], "extent": [3518, 3558]}], "container": true, "attrs": {"id": "mieabsorpscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Distribution"], "extent": [3558, 3572], "body": [{"type": "para", "indent": 4, "text": [{"type": "ui", "text": ["Distribution"]}, " uses Nishita\u2019s exponential decay model (referred to as ", {"type": "q", "text": ["Scale Height"]}, " in literature) for calculating air density."], "extent": [3864, 4000]}], "container": true, "attrs": {"id": "miedist"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Phase"], "extent": [4000, 4007], "body": [{"type": "para", "indent": 4, "text": ["Phase ranges from ", {"type": "code", "text": ["-1"]}, " to ", {"type": "code", "text": ["1"]}, " and covers full back scatter to full forward scatter. Scattering represents the atmosphere\u2019s anisotropy. Aniostropy means that rays don\u2019t propagate evenly in all directions."], "extent": [4026, 4235]}], "container": true, "attrs": {"id": "miephase"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Ozone"], "extent": [4235, 4247], "body": [{"type": "para", "indent": 0, "text": ["The ozone layer is an additional absorption layer that contributes to the deep blue tint of the Earth\u2019s sky, particularly near sunrise/sunset."], "extent": [4247, 4396]}, {"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 0, "text": [" ", {"scheme": "Image", "value": "/images/nodes/lop/karmaskyatmosphere_ozone.jpg", "type": "img", "text": ""}], "role": "item", "extent": [4396, 4457], "body": [{"type": "summary", "indent": 4, "text": ["Without and with ozone absorption."], "extent": [4457, 4503]}], "container": true}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Absorption"], "extent": [4503, 4515], "body": [{"type": "para", "indent": 4, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Scale"]}, " and creates an ozone absorption coefficient for each color channel representing the amount of light that is scattered by the ozone layer."], "extent": [4540, 4725]}], "container": true, "attrs": {"id": "extraabsorpcol"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Scale"], "extent": [4725, 4732], "body": [{"type": "para", "indent": 4, "text": ["Multiplier for ozone ", {"type": "ui", "text": ["Absorption"]}, "."], "extent": [4759, 4801]}], "container": true, "attrs": {"id": "extraabsorpscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Altitude"], "extent": [4801, 4811], "body": [{"type": "para", "indent": 4, "text": ["The maximum ozone density/absorption is reached at the parameter\u2019s value given in kilometers measured from the Earth\u2019s surface. The value is multiplied by ", {"type": "ui", "text": ["Unit Scale"]}, ". For example, at an ", {"type": "ui", "text": ["Altitude"]}, " of ", {"type": "code", "text": ["8"]}, " km and a ", {"type": "ui", "text": ["Unit Scale"]}, " of ", {"type": "code", "text": ["1000"]}, ", the final value will be ", {"type": "code", "text": ["8000"]}, "."], "extent": [4835, 5117]}], "container": true, "attrs": {"id": "extraaltitude"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Width"], "extent": [5117, 5124], "body": [{"type": "para", "indent": 4, "text": ["This value indicates the total height range in kilometers at which ozone absorbs (sun)light. Absorption reaches its maximum at the ", {"type": "ui", "text": ["Altitude"]}, " parameter\u2019s value. Note, that ", {"type": "ui", "text": ["Width"]}, " is multiplied by ", {"type": "ui", "text": ["Unit Scale"]}, ". For example, when ", {"type": "ui", "text": ["Width"]}, " is ", {"type": "code", "text": ["10"]}, " km and ", {"type": "ui", "text": ["Unit Scale"]}, " is ", {"type": "code", "text": ["1000"]}, ", the final value will be ", {"type": "code", "text": ["10000"]}, "."], "extent": [5145, 5469]}], "container": true, "attrs": {"id": "extrawidth"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Ground"], "extent": [5469, 5482], "body": [{"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [" ", {"scheme": "Image", "value": "/images/nodes/lop/karmaskyatmosphere_ground.jpg", "type": "img", "text": ""}], "role": "item", "extent": [5482, 5549], "body": [{"type": "summary", "indent": 8, "text": ["Without and with ground albedo."], "extent": [5549, 5596]}], "container": true}], "container": true, "role": "item_group"}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Ground Albedo"], "extent": [5596, 5615], "body": [{"type": "para", "indent": 8, "text": ["The ground reflectivity that affects the sky color (when multiple scattering is turned on), as well as its appearance in primary and bounce rays."], "extent": [5642, 5797]}], "container": true, "attrs": {"id": "groundalbedo"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Ground Visibility"], "extent": [5797, 5820], "body": [{"type": "para", "indent": 8, "text": ["Controls visibility of the ground depending on different types of rays. For instance, you may not want the ground to be visible in the camera, but still want the sky and indirect bounce rays from underside of clouds (and other geometry) to be affected by the ground color. You can use one of the following expressions"], "extent": [5851, 6178]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": [{"type": "code", "text": ["*"]}], "extent": [6178, 6191], "body": [{"type": "para", "indent": 12, "text": ["Visible to both primary and indirect bounce rays."], "extent": [6191, 6253]}], "container": true}, {"type": "dt", "indent": 8, "text": [{"type": "code", "text": ["primary"]}], "extent": [6253, 6272], "body": [{"type": "para", "indent": 12, "text": ["Visible to primary rays only."], "extent": [6272, 6314]}], "container": true}, {"type": "dt", "indent": 8, "text": [{"type": "code", "text": ["-primary"]}], "extent": [6314, 6334], "body": [{"type": "para", "indent": 12, "text": ["Visible to indirect bounce rays only."], "extent": [6334, 6385]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "groundvisibility"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Geometry"], "extent": [6385, 6400], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Planet Center"], "extent": [6400, 6420], "body": [{"type": "para", "indent": 8, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Unit Scale"]}, " and represents the position where the planetary atmosphere is centered around. ", {"type": "ui", "text": ["Planet Center"]}, " is measured in kilometers."], "extent": [6447, 6627]}], "container": true, "attrs": {"id": "planetcenter"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Sea Level"], "extent": [6627, 6642], "body": [{"type": "para", "indent": 8, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Unit Scale"]}, " and represents the distance from the ", {"type": "ui", "text": ["Planet Center"]}, " in which the atmosphere starts. ", {"type": "ui", "text": ["Sea Level"]}, " is measured in kilometers."], "extent": [6665, 6849]}], "container": true, "attrs": {"id": "sealevel"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Unit Scale"], "extent": [6849, 6865], "body": [{"type": "para", "indent": 8, "text": ["Multiplier to every parameter in ", {"type": "ui", "text": ["Karma Sky Atmosphere"]}, " that represents position or distance."], "extent": [6889, 6994]}], "container": true, "attrs": {"id": "unitscale"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Sampling"], "extent": [6994, 7009], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["LPE Tag"], "extent": [7009, 7019], "body": [{"type": "para", "indent": 4, "text": ["Custom label assigned to atmospheric volume for use with ", {"scheme": null, "value": "/render/lpe", "type": "link", "text": ["light path expression"], "fullpath": "/render/lpe.html"}, "."], "extent": [7049, 7148]}], "container": true, "attrs": {"id": "karma:object:lpetag"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Minimum Stepsize"], "extent": [7148, 7166], "body": [{"type": "para", "indent": 4, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Unit Scale"]}, " and represents the minimum distance between samples when marching through atmosphere. Reducing this parameter can help eliminate banding artifacts when modeling a particularly thick atmosphere, but at extra cost."], "extent": [7188, 7453]}], "container": true, "attrs": {"id": "stepsizemin"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Maximum Stepsize"], "extent": [7453, 7471], "body": [{"type": "para", "indent": 4, "text": ["This parameter is multiplied by ", {"type": "ui", "text": ["Unit Scale"]}, " represents the maximum distance between samples when marching through atmosphere. We recommend leaving ", {"type": "ui", "text": ["Maximum Stepsize"]}, " at 5 to 10 times the value of ", {"type": "ui", "text": ["Minimum Stepsize"]}, "."], "extent": [7493, 7721]}], "container": true, "attrs": {"id": "stepsizemax"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Multi Scatter Limit"], "extent": [7721, 7742], "body": [{"type": "para", "indent": 4, "text": ["Specifies, how often an atmospheric ray can propagate through the atmosphere. "], "extent": [7777, 7861]}, {"type": "note_group", "body": [{"type": "note", "indent": 4, "role": "item", "extent": [7861, 7871], "body": [{"type": "para", "indent": 8, "text": ["Increasing depth will impact render times. A depth of ", {"type": "code", "text": ["1"]}, " or ", {"type": "code", "text": ["2"]}, " is typically enough for the realistic appearance of a clear sky on Earth, with diminishing returns beyond that. A limit of ", {"type": "code", "text": ["1"]}, " or greater is required if ", {"type": "ui", "text": ["Ground Albedo"]}, " should have an effect on the color of the sky."], "extent": [7871, 8163]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "karma:object:volumelimit"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Advanced"], "extent": [8163, 8178], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Internal Color Space"], "extent": [8178, 8201], "body": [{"type": "para", "indent": 4, "text": ["Scatter and absorption coefficients are interpreted in the ", {"scheme": null, "value": "/solaris/ocio", "type": "link", "text": ["OpenColorIO"], "fullpath": "/solaris/ocio.html"}, " color space specified by this parameter, and transformed into ", {"type": "code", "text": ["scene_linear"]}, " (i.e. working space) when computing transmittance. Leave it empty to apply no transformation. This can help in preserving the look if the lookdev for the atmosphere was done in a different color space than the project\u2019s working space (however, due to the nature of RGB rendering, it can never be an exact match)."], "extent": [8220, 8702]}], "container": true, "attrs": {"id": "ociofrom"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["LUT Resolution"], "extent": [8702, 8718], "body": [{"type": "para", "indent": 4, "text": ["X and Y resolution for the transmittance table. The X axis corresponds to the light angle, and the Y axis corresponds to the viewer\u2019s altitude. With appropriate settings, there is no need to deviate from the default settings. An exception is if there are huge differences between the ", {"type": "ui", "text": ["Distribution"]}, " or ozone ", {"type": "ui", "text": ["Altitude"]}, " parameters. In this case it can help to increase the Y resolution to avoid bias."], "extent": [8735, 9144]}], "container": true, "attrs": {"id": "lutdim"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Ground Offset"], "extent": [9144, 9159], "body": [{"type": "para", "indent": 4, "text": ["Distance between ground level and sea level. Ground is modeled as a sphere with radius calculated as ", {"type": "code", "text": ["Sea Level - Ground Offset"]}, ". You can set this parameter to values greater than zero to lower the ground and avoid discontinuity artifacts from objects crossing ground level. As a consequence, you\u2019ll see a vacuum between the atmosphere and the ground which may be noticeable near horizon. We recommend leaving this parameter at ", {"type": "code", "text": ["0"]}, " and keeping the rest of the scene above ", {"type": "ui", "text": ["Sea Level"]}, " instead."], "extent": [9182, 9682]}], "container": true, "attrs": {"id": "groundoffset"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Ground Receives Shadows"], "extent": [9682, 9707], "body": [{"type": "para", "indent": 4, "text": ["Allow ground elements to receive shadows (i.e. cast shadow rays)."], "extent": [9737, 9808]}], "container": true, "attrs": {"id": "groundreceiveshadow"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Render Backside Atmosphere"], "extent": [9808, 9836], "body": [{"type": "para", "indent": 4, "text": ["Allows rendering of the atmosphere on the other side of the planet."], "extent": [9861, 9934]}], "container": true, "attrs": {"id": "renderbackside"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Solid Alpha in IPR"], "extent": [9934, 9954], "body": [{"type": "para", "indent": 4, "text": ["Set alpha to ", {"type": "code", "text": ["1"]}, " in IPR mode. Turned on by default to avoid misleading appearance due to compositing against light viewport background."], "extent": [9980, 10120]}], "container": true, "attrs": {"id": "solidalphainipr"}, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Advanced"], "extent": [8518, 8533], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Sky Prim Name"], "extent": [8533, 8553], "body": [{"type": "para", "indent": 8, "text": ["The name of the Karma Sky Dome Light LOP prim."], "extent": [8575, 8631]}], "container": true, "attrs": {"id": "skyprim"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Sun Prim Name"], "extent": [8631, 8650], "body": [{"type": "para", "indent": 8, "text": ["The name of the Distant Light LOP prim."], "extent": [8672, 8721]}], "container": true, "attrs": {"id": "sunprim"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Sun Light Map"], "extent": [8721, 8740], "body": [{"type": "para", "indent": 8, "text": ["The look-up table used by the node, to give the sun light the correct color and intensity."], "extent": [8763, 8863]}], "container": true, "attrs": {"id": "lightmap"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Up Axis"], "extent": [8863, 8876], "body": [{"type": "para", "indent": 8, "text": ["The up-axis of the light."], "extent": [8897, 8932]}], "container": true, "attrs": {"id": "upaxis"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": "karma_light_props", "container": true, "type": "h", "indent": 0, "text": ["Karma"], "extent": [7063, 7095], "body": [{"type": "include_group", "body": [{"ext": "karma#inputs:karma:light:activeradius", "type": "include", "indent": 0, "role": "item", "extent": [7095, 7151], "ref": "/props/karma#hprop=inputs:karma:light:activeradius", "newtype": "parameters_item", "newid": "inputs:karma:light:activeradius"}, {"ext": "karma#inputs:karma:light:misbias", "type": "include", "indent": 0, "role": "item", "extent": [7151, 7201], "ref": "/props/karma#hprop=inputs:karma:light:misbias", "newtype": "parameters_item", "newid": "inputs:karma:light:misbias"}, {"ext": "karma#inputs:karma:light:samplingquality", "type": "include", "indent": 0, "role": "item", "extent": [7201, 7259], "ref": "/props/karma#hprop=inputs:karma:light:samplingquality", "newtype": "parameters_item", "newid": "inputs:karma:light:samplingquality"}, {"ext": "karma#inputs:karma:light:samplingmode", "type": "include", "indent": 0, "role": "item", "extent": [7259, 7314], "ref": "/props/karma#hprop=inputs:karma:light:samplingmode", "newtype": "parameters_item", "newid": "inputs:karma:light:samplingmode"}, {"ext": "karma#inputs:karma:light:category", "type": "include", "indent": 0, "role": "item", "extent": [7314, 7365], "ref": "/props/karma#hprop=inputs:karma:light:category", "newtype": "parameters_item", "newid": "inputs:karma:light:category"}, {"ext": "karma#inputs:karma:light:hdri_max_isize", "type": "include", "indent": 0, "role": "item", "extent": [7365, 7425], "ref": "/props/karma#hprop=inputs:karma:light:hdri_max_isize", "newtype": "parameters_item", "newid": "inputs:karma:light:hdri_max_isize"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}], "title": ["Karma Physical Sky"], "summary": ["Creates a Karma Sky Dome and Sun Light rig."], "included": ["/nodes/lop/_render_prims", "/nodes/lop/_simple_prims", "/nodes/lop/karmaskyatmosphere"]}