{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "unpackusd", "icon": "SOP/unpackusd", "tags": "usd", "since": "19.0", "version": "2.0", "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Unpack USD"], "extent": [0, 15]}, {"type": "summary", "indent": 0, "text": ["Converts ", {"type": "q", "text": ["packed USD"]}, " primitives into normal Houdini geometry."], "extent": [123, 194]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [194, 209], "body": [{"type": "para", "indent": 0, "text": [{"scheme": null, "value": "/model/primitives#usd", "type": "link", "text": ["USD packed primitives"], "fullpath": "/model/primitives.html#usd", "fragment": "#usd"}, " store USD data as attributes on points in a Houdini primitive. This node unpacks all or some of the packed USD prims."], "extent": [209, 375]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["You can extract a subset of the packed USD prims, based on various criteria such as prim type and kind."], "extent": [375, 482]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["You can output the matched subset as another USD packed primitive, or convert the unpacked USD geometry prims to Houdini polygons."], "extent": [482, 616]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["When converting to Houdini geometry, the node converts any USD ", {"scheme": null, "value": "/solaris/usd#primvars", "type": "link", "text": ["primvars"], "fullpath": "/solaris/usd.html#primvars", "fragment": "#primvars"}, " listed in ", {"type": "ui", "text": ["Import primvars"]}, " into Houdini geometry attributes."], "extent": [616, 779]}], "container": true}, {"type": "para", "indent": 0, "text": ["See ", {"scheme": null, "value": "/solaris/sop_import", "type": "link", "text": ["how Houdini converts geometry between USD and Houdini"], "fullpath": "/solaris/sop_import.html"}, " for more information."], "extent": [779, 883]}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [883, 895], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Main"], "extent": [895, 907], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [907, 915], "body": [{"type": "para", "indent": 4, "text": ["Specify the packed objects to extract. If this is empty, the node extracts all prims. Usually you will click the ", {"scheme": "Smallicon", "value": "BUTTONS/reselect", "type": "link", "text": "", "fullpath": "/nodes/sop/BUTTONS/reselect.html"}, " Select button to the right of the text box to select objects visually in the viewport."], "extent": [915, 1149]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Delete Original Prims"], "extent": [1149, 1172], "body": [{"type": "para", "indent": 4, "text": ["When this is on (the default), the original USD packed prims are not passed though to the output."], "extent": [1172, 1275]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Traversal"], "extent": [1275, 1286], "body": [{"type": "para", "indent": 4, "text": ["How to find the USD prims to extract."], "extent": [1286, 1329]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Unpack "], "extent": [1329, 1344]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Output"], "extent": [1344, 1353], "body": [{"type": "para", "indent": 4, "text": ["Whether to output the extracted USD prims as a new USD packed primitive, or as Houdini polygonal geometry."], "extent": [1369, 1481]}], "container": true, "attrs": {"id": "output"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Pivot Location"], "extent": [1481, 1497], "body": [{"type": "para", "indent": 4, "text": ["Specifies whether to place the packed primitive\u2019s point at the origin of its coordinate frame, or at the center of its bounding box."], "extent": [1497, 1635]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Path Attribute"], "extent": [1635, 1651], "body": [{"type": "para", "indent": 4, "text": ["If enabled, creates a SOP primitive attribute containing the scene graph path of the original USD primitive."], "extent": [1651, 1765]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Name Attribute"], "extent": [1765, 1781], "body": [{"type": "para", "indent": 4, "text": ["If enabled, creates a SOP primitive attribute containing the name of the original USD primitive."], "extent": [1781, 1883]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["File Path Attribute"], "extent": [1883, 1904], "body": [{"type": "para", "indent": 4, "text": ["If enabled, creates a SOP primitive attribute containing the file path (or LOP node path) of the original USD primitive\u2019s stage."], "extent": [1904, 2038]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Transfer Attributes"], "extent": [2038, 2059], "body": [{"type": "para", "indent": 4, "text": ["When unpacking to regular Houdini geometry, this is a list of patterns matching ", {"type": "strong", "text": ["existing Houdini geometry attributes"]}, " (", {"type": "strong", "text": ["not"]}, " USD attributes) on the USD Packed Primitive that should be transferred onto the output geometry. For example, you might have sent the USD packed primitives through an RBD simulation in Houdini, which wrote position and rotation attributes onto the packed prims, which you want to transfer onto the extracted geometry."], "extent": [2083, 2532]}], "container": true, "attrs": {"id": "transfer_attrs"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Transfer Groups"], "extent": [2532, 2549], "body": [{"type": "para", "indent": 4, "text": ["When unpacking to regular Houdini geometry, this is a list of patterns matching existing Houdini geometry groups on the USD Packed Primitive that should be transferred onto the output geometry."], "extent": [2574, 2773]}], "container": true, "attrs": {"id": "transfer_groups"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Import Data "], "extent": [2773, 2793]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Import Primvars"], "extent": [2793, 2811], "body": [{"type": "para", "indent": 4, "text": ["When unpacking to regular Houdini geometry, this is a list of patterns matching ", {"scheme": null, "value": "/solaris/usd#primvars", "type": "link", "text": ["USD primvars"], "fullpath": "/solaris/usd.html#primvars", "fragment": "#primvars"}, " that should be converted to Houdini geometry attributes."], "extent": [2836, 3015]}], "container": true, "attrs": {"id": "import_primvars"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import Inherited Primvars"], "extent": [3015, 3042], "body": [{"type": "para", "indent": 4, "text": ["Includes primvars that are ", {"scheme": null, "value": "/solaris/usd#primvar-inheritance", "type": "link", "text": ["inherited from parent primitives"], "fullpath": "/solaris/usd.html#primvar-inheritance", "fragment": "#primvar-inheritance"}, " when unpacking to regular Houdini geometry.\n    The ", {"type": "ui", "text": ["Import Primvars"]}, " filter is also applied to select which inherited primvars are imported."], "extent": [3075, 3319]}], "container": true, "attrs": {"id": "importinheritedprimvars"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import Computed Visibility"], "extent": [3319, 3347], "body": [{"type": "para", "indent": 4, "text": ["If the ", {"type": "code", "text": ["visibility"]}, " attribute is authored on the USD prim, a ", {"type": "code", "text": ["usdvisibility"]}, " SOP attribute is created with its value (", {"type": "code", "text": ["invisible"]}, " or ", {"type": "code", "text": ["inherited"]}, ").\n    When this option is enabled, the ", {"type": "code", "text": ["usdvisibility"]}, " attribute will instead contain the ", {"type": "strong", "text": ["computed"]}, " visibility for every prim.\n    This can be useful to determine which primitives are visible, but should be used with caution when round-tripping to avoid replacing the original USD visibility attributes."], "extent": [3381, 3836]}], "container": true, "attrs": {"id": "importcomputedvisibility"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Import Attributes"], "extent": [3836, 3855], "body": [{"type": "para", "indent": 4, "text": ["When unpacking to regular Houdini geometry, this is a list of patterns matching ", {"scheme": null, "value": "/solaris/usd#attrs", "type": "link", "text": ["USD attributes"], "fullpath": "/solaris/usd.html#attrs", "fragment": "#attrs"}, " that should be converted to Houdini geometry attributes (in addition to the ", {"type": "em", "text": ["primvars"]}, " specified in ", {"type": "ui", "text": ["Import primvars"]}, ")."], "extent": [3881, 4124]}, {"type": "para", "indent": 4, "text": ["These patterns are only matched against ", {"type": "em", "text": ["custom"]}, " USD attributes on the prim being imported. USD attributes that are part of a schema have special handling (for example, the ", {"type": "code", "text": ["faceVertexIndices"]}, " attribute on a mesh primitive is converted into the topology of the resulting polygons)."], "extent": [4124, 4411]}, {"type": "para", "indent": 4, "text": ["Unlike primvars, custom attributes do not specify an interpolation mode. If the attribute\u2019s value is an array, the node guesses the Houdini attribute level (", {"type": "code", "text": ["point"]}, ", ", {"type": "code", "text": ["vertex"]}, ", ", {"type": "code", "text": ["primitive"]}, ", or ", {"type": "code", "text": ["detail"]}, ") based on the number of elements in the array."], "extent": [4411, 4664]}, {"type": "para", "indent": 4, "text": ["Since only primvars can be inherited from parent primitives, the ", {"type": "ui", "text": ["Import Inherited Primvars"]}, " option does not apply for custom USD attributes."], "extent": [4664, 4813]}], "container": true, "attrs": {"id": "importattributes"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Non-transforming Primvars"], "extent": [4813, 4840], "body": [{"type": "para", "indent": 4, "text": ["When unpacking to regular Houdini geometry, this is a list of patterns matching ", {"scheme": null, "value": "/solaris/usd#primvars", "type": "link", "text": ["USD primvars"], "fullpath": "/solaris/usd.html#primvars", "fragment": "#primvars"}, " that should be converted to ", {"type": "em", "text": ["non-transforming"]}, " Houdini geometry attributes."], "extent": [4873, 5071]}], "container": true, "attrs": {"id": "nontransformingprimvars"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Translate ST primvar to UV"], "extent": [5071, 5099], "body": [{"type": "para", "indent": 4, "text": ["USD generally stores texture coordinates in a primvar named ", {"type": "code", "text": ["st"]}, ", while Houdini stores them in an attribute named ", {"type": "code", "text": ["uv"]}, ". When this is on, the node automatically converts USD ", {"type": "code", "text": ["st"]}, " primvars to ", {"type": "code", "text": ["uv"]}, " attributes."], "extent": [5124, 5336]}], "container": true, "attrs": {"id": "translatesttouv"}, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [5336, 5345], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/lopimport", "type": "link", "text": "", "fullpath": "/nodes/sop/lopimport.html"}], "extent": [5345, 5372]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/usdimport", "type": "link", "text": "", "fullpath": "/nodes/sop/usdimport.html"}], "extent": [5372, 5399]}], "container": true}], "text": "Related"}], "title": ["Unpack USD"], "summary": ["Converts ", {"type": "q", "text": ["packed USD"]}, " primitives into normal Houdini geometry."]}