{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "vellumrestblend", "icon": "SOP/vellumrestblend", "since": "17.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Vellum Rest Blend"], "extent": [103, 125]}, {"type": "summary", "indent": 0, "text": ["Blends the current rest values of constraints with a rest state calculated from external geometry."], "extent": [125, 232]}, {"type": "para", "indent": 0, "text": ["The Vellum Rest Blend SOP allows mixing the current rest values of constraints, including rest length and rest angles, with a rest state calculated from external geometry.  In this way you can deform the original input geometry in its rest configuration to modify constraints during the simulation, allowing effects like purposefully stretching or putting bends into cloth or hair, or inflating an object over time."], "extent": [232, 649]}, {"type": "para", "indent": 0, "text": ["The geometry used for rest configuration update is the fourth input if provided; otherwise the first input is used."], "extent": [649, 767]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [767, 779], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [779, 787], "body": [{"type": "para", "indent": 4, "text": ["Specifies the point group in the geometry whose constraints should be blended with the external rest state.  NOTE: Any group specified here should also exist on the rest geometry."], "extent": [803, 988]}], "container": true, "attrs": {"id": "group"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Constraint Group"], "extent": [988, 1006], "body": [{"type": "para", "indent": 4, "text": ["Specifies the primitive group of constraints whose rest values should be blended with the external rest state."], "extent": [1025, 1141]}], "container": true, "attrs": {"id": "congroup"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mode"], "extent": [1141, 1147], "body": [{"type": "para", "indent": 4, "text": ["Controls how the rest states are blended.  With a value of ", {"type": "ui", "text": ["Blend"]}, ", the states are blended together using a 0-1 values.  With a value of ", {"type": "ui", "text": ["Distance"]}, ", the current state can move a maximum of the specified Distance units towards the new rest state, e.g. a maximum of 5 degrees for a bend constraint."], "extent": [1167, 1473]}], "container": true, "attrs": {"id": "blendmode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blend"], "extent": [1473, 1480], "body": [{"type": "para", "indent": 4, "text": ["In ", {"type": "ui", "text": ["Blend"]}, " mode, specifies how much of the current rest state and external rest state should be blended together.  With a value of 0, the constraints' rest values will not be modified; with a value of 1, the constraints' rest values will be updated to exactly match the external geometry state."], "extent": [1496, 1798]}], "container": true, "attrs": {"id": "blend"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Distance"], "extent": [1798, 1808], "body": [{"type": "para", "indent": 4, "text": ["In ", {"type": "ui", "text": ["Distance"]}, " mode, specifies how far the constraints' current rest state can be modified towards the external rest state.  This is specified in the units of the constraint, so generally should be specified for only one constraint type at a time using the ", {"type": "ui", "text": ["Constraint Group"]}, ".  For Stretch constraints this value is specified in length units (typically meters); for Bend constraints it is in degrees."], "extent": [1827, 2236]}], "container": true, "attrs": {"id": "distance"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blend Masking"], "extent": [2236, 2251], "body": [{"type": "para", "indent": 4, "text": ["Determines which masking behavior to use for blending."], "extent": [2270, 2330]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["None"], "extent": [2330, 2340], "body": [{"type": "para", "indent": 8, "text": ["No masking. Sets a single blend value for the entire set of affected constraints."], "extent": [2340, 2431]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Set From Attribute"], "extent": [2431, 2455], "body": [{"type": "para", "indent": 8, "text": ["Computes blend values for each constraint from the provided ", {"type": "ui", "text": ["Blend Mask Attribute"]}, " using all the points of the constraint on the new rest state geometry, as accumulated by ", {"type": "ui", "text": ["Promotion Method"]}, "."], "extent": [2455, 2660]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Scale From Attribute"], "extent": [2660, 2686], "body": [{"type": "para", "indent": 8, "text": ["Computes values for each constraint from the provided ", {"type": "ui", "text": ["Blend Mask Attribute"]}, " on all the points of the constraint on the new rest state geometry, as accumulated by ", {"type": "ui", "text": ["Promotion Method"]}, ", then scales the ", {"type": "ui", "text": ["Blend"]}, " or ", {"type": "ui", "text": ["Distance"]}, " parameter by that amount."], "extent": [2686, 2950]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "maskmode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blend Mask Attribute"], "extent": [2950, 2972], "body": [{"type": "para", "indent": 4, "text": ["Specifies the name of the point attribute that is used to dictate the local value of the blend for each constraint.   This point attribute should be on the source rest geometry that holds the new rest state.  If the mask attribute is not found on that geometry, the constraints will be blended by the ", {"type": "ui", "text": ["Blend"]}, " or ", {"type": "ui", "text": ["Distance"]}, " slider value instead."], "extent": [2993, 3347]}], "container": true, "attrs": {"id": "maskattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Promotion Method"], "extent": [40204, 40223], "body": [{"type": "para", "indent": 4, "text": ["The scale-by-attribute functions have to apply the possible different scale attribute values on the points involved in the constraint to a single constraint.  This controls how they are blended together."], "extent": [40247, 40456]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Maximum"], "extent": [40456, 40469], "body": [{"type": "para", "indent": 8, "text": ["The maximum scale factor is used."], "extent": [40469, 40512]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Minimum"], "extent": [40512, 40525], "body": [{"type": "para", "indent": 8, "text": ["The minimum scale factor is used."], "extent": [40525, 40568]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Average"], "extent": [40568, 40581], "body": [{"type": "para", "indent": 8, "text": ["The average of the points scale factors is used."], "extent": [40581, 40639]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Multiply"], "extent": [40639, 40653], "body": [{"type": "para", "indent": 8, "text": ["The scale factors are all multiplied together."], "extent": [40653, 40709]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Use Source"], "extent": [40709, 40725], "body": [{"type": "para", "indent": 8, "text": ["The source points scale factor is used, such as in a stitch constraint."], "extent": [40725, 40806]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Use Target"], "extent": [40806, 40822], "body": [{"type": "para", "indent": 8, "text": ["The target points scale factor is used, such as in a stitch constraint."], "extent": [40822, 40903]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "attribpromote"}, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [3401, 3410], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/vellumconstraints", "type": "link", "text": "", "fullpath": "/nodes/sop/vellumconstraints.html"}], "extent": [3410, 3441]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/vellumdrape", "type": "link", "text": "", "fullpath": "/nodes/sop/vellumdrape.html"}], "extent": [3441, 3466]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/dop/vellumrestblend", "type": "link", "text": "", "fullpath": "/nodes/dop/vellumrestblend.html"}], "extent": [3466, 3496]}], "container": true}], "text": "Related"}], "title": ["Vellum Rest Blend"], "summary": ["Blends the current rest values of constraints with a rest state calculated from external geometry."], "included": ["/nodes/sop/vellumconstraints"]}