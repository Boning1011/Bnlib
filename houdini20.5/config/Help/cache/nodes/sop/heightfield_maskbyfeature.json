{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "heightfield_maskbyfeature", "icon": "SOP/heightfield_maskbyfeature", "since": "16.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["HeightField Mask by Feature"], "extent": [0, 32]}, {"type": "summary", "indent": 0, "text": ["Creates a mask based on different features of the height layer."], "extent": [156, 227]}, {"type": "para", "indent": 0, "text": ["This node is useful for isolating peaks and valleys, areas where snow should be placed, and areas where vegetation can grow."], "extent": [227, 353]}, {"type": "para", "indent": 0, "text": ["The node has several different criteria you can use to create a mask. When more than one criterion is on, the final mask is the ", {"type": "em", "text": ["intersection"]}, " of the different feature masks."], "extent": [353, 529]}, {"type": "warning_group", "body": [{"type": "warning", "indent": 0, "role": "item", "extent": [529, 538], "body": [{"type": "para", "indent": 4, "text": ["If you don\u2019t turn on any criteria, the node will flood fill the mask to 1."], "extent": [538, 619]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [619, 631], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Masking"], "extent": [631, 646], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Smooth Radius"], "extent": [646, 662], "body": [{"type": "para", "indent": 4, "text": ["Amount (in voxels) to blur the output mask."], "extent": [690, 739]}], "container": true, "attrs": {"id": "smooth_radius"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Combine with Existing"], "extent": [459, 482], "body": [{"type": "para", "indent": 4, "text": ["How to combine this mask with any existing mask in the input."], "extent": [504, 575]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Replace"], "extent": [575, 588], "body": [{"type": "para", "indent": 8, "text": ["Clear the existing mask and replace it with the new mask."], "extent": [588, 663]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Add"], "extent": [663, 672], "body": [{"type": "para", "indent": 8, "text": ["Add the values in this mask to any existing mask."], "extent": [672, 739]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Subtract"], "extent": [739, 753], "body": [{"type": "para", "indent": 8, "text": ["Subtract the values in this mask from any existing mask."], "extent": [753, 827]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Difference"], "extent": [827, 843], "body": [{"type": "para", "indent": 8, "text": ["Set the mask values to the difference between the old mask and this mask."], "extent": [843, 926]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Multiply"], "extent": [926, 940], "body": [{"type": "para", "indent": 8, "text": ["Multiply the values of the old mask by the values in this mask. This might be useful to ", {"type": "q", "text": ["scale"]}, " existing values while leaving empty areas alone."], "extent": [940, 1094]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Maximum"], "extent": [1094, 1107], "body": [{"type": "para", "indent": 8, "text": ["Set the mask values to the maximum of the old mask and this mask."], "extent": [1107, 1190]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Minimum"], "extent": [1190, 1203], "body": [{"type": "para", "indent": 8, "text": ["Set the mask values to the minimum of the old mask and this mask."], "extent": [1203, 1286]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Blend"], "extent": [1286, 1297], "body": [{"type": "para", "indent": 8, "text": ["Blend the old mask and this mask by a certain amount."], "extent": [1297, 1360]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "combine"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blend"], "extent": [1360, 1367], "body": [{"type": "para", "indent": 4, "text": ["The amount to blend the old mask with what you draw, when ", {"type": "ui", "text": ["Combine with existing"]}, " is ", {"type": "q", "text": ["blend"]}, ". A value of ", {"type": "code", "text": ["0"]}, " leaves the existing mask, a value of ", {"type": "code", "text": ["1"]}, " replaces with the new mask, a value of ", {"type": "code", "text": ["0.5"]}, " blends equally between the old and new mask."], "extent": [1387, 1635]}], "container": true, "attrs": {"id": "blend"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Invert Maks"], "extent": [819, 832], "body": [{"type": "para", "indent": 4, "text": ["Turn on the checkbox to reverse the mask values."], "extent": [853, 911]}], "container": true, "attrs": {"id": "invertmask"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Slope"], "extent": [911, 925], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Mask by Slope"], "extent": [925, 941], "body": [{"type": "para", "indent": 4, "text": ["Generate a mask based on the slope of the terrain."], "extent": [967, 1027]}], "container": true, "attrs": {"id": "maskbyslope"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Min Slope Angle"], "extent": [1027, 1045], "body": [{"type": "para", "indent": 4, "text": ["Add areas with slope greater than or equal to this value to the mask."], "extent": [1074, 1153]}], "container": true, "attrs": {"id": "min_slopeangle"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Max Slope Angle"], "extent": [1153, 1170], "body": [{"type": "para", "indent": 4, "text": ["Add areas with slope less than or equal to this value to the mask."], "extent": [1199, 1275]}], "container": true, "attrs": {"id": "max_slopeangle"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Slope Ramp"], "extent": [1275, 1287], "body": [{"type": "para", "indent": 4, "text": ["Controls the value of the mask over the range from the minimum to the maximum slope. This lets you control the feathering of the mask."], "extent": [1311, 1452]}], "container": true, "attrs": {"id": "sloperamp"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Height"], "extent": [1452, 1467], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Mask by Height"], "extent": [1467, 1484], "body": [{"type": "para", "indent": 4, "text": ["Generate a mask based on the height of the terrain."], "extent": [1511, 1572]}], "container": true, "attrs": {"id": "maskbyheight"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compute Range"], "extent": [1572, 1587], "body": [{"type": "para", "indent": 4, "text": ["Click to set the minimum and maximum parameters to the current minimum and maximum in the input height field."], "extent": [1614, 1729]}], "container": true, "attrs": {"id": "computerange"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Min Height"], "extent": [1729, 1741], "body": [{"type": "para", "indent": 4, "text": ["Add areas at this height or higher to the mask."], "extent": [1765, 1822]}], "container": true, "attrs": {"id": "minheight"}, "role": "item"}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Max Height:  Maximum Height for Height mask to be applied."], "extent": [1822, 1881], "body": [{"type": "para", "indent": 4, "text": ["Add areas at this height or lower to the mask."], "extent": [1905, 1966]}], "container": true, "attrs": {"id": "maxheight"}}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Height Ramp"], "extent": [1966, 1979], "body": [{"type": "para", "indent": 4, "text": ["Controls the value of the mask over the range from the minimum to the maximum slope. This lets you control the feathering of the mask."], "extent": [2004, 2145]}], "container": true, "attrs": {"id": "heightramp"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Peaks and Valleys"], "extent": [2145, 2171], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Mask by Curvature"], "extent": [2171, 2191], "body": [], "container": true, "attrs": {"id": "maskbycurvature"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compute Range"], "extent": [2309, 2324], "body": [{"type": "para", "indent": 4, "text": ["Click to set ", {"type": "ui", "text": ["Max Curvature"]}, " to the current maximum curvature in the input height field."], "extent": [2356, 2461]}], "container": true, "attrs": {"id": "computercurvature"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Max Curvature"], "extent": [2461, 2476], "body": [{"type": "para", "indent": 4, "text": ["Add areas with curvature greater than this value to the mask."], "extent": [2504, 2580]}], "container": true, "attrs": {"id": "max_curvature"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Curvature Ramp"], "extent": [2580, 2597], "body": [{"type": "para", "indent": 4, "text": ["Controls the value of the mask over the range from 0 to the maximum curvature. This lets you control the feathering of the mask."], "extent": [2625, 2760]}], "container": true, "attrs": {"id": "curvatureramp"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Direction"], "extent": [2760, 2778], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Mask by Direction"], "extent": [2778, 2798], "body": [{"type": "para", "indent": 4, "text": ["Create a mask based on the ", {"type": "q", "text": ["horizontal"]}, " direction the terrain surface faces at a given point."], "extent": [2822, 2921]}], "container": true, "attrs": {"id": "maskbydir"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Goal Angle"], "extent": [2921, 2933], "body": [{"type": "para", "indent": 4, "text": ["Add areas to the mask which face this direction. The value is in degrees, plus or minus ", {"type": "ui", "text": ["Angle spread"]}, ". A value of 0 degrees means facing in the -X direction, +90 degrees means facing in the -Z direction."], "extent": [2958, 3170]}], "container": true, "attrs": {"id": "goal_angle"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Angle Spread"], "extent": [3170, 3184], "body": [{"type": "para", "indent": 4, "text": ["Amount of variance allowed around the ", {"type": "ui", "text": ["Goal angle"]}, "."], "extent": [3211, 3274]}], "container": true, "attrs": {"id": "angle_spread"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Direction Ramp"], "extent": [3274, 3290], "body": [{"type": "para", "indent": 4, "text": ["Controls the value of the mask across the ", {"type": "ui", "text": ["Angle spread"]}, ". This lets you control the feathering of the mask."], "extent": [3312, 3427]}], "container": true, "attrs": {"id": "dirramp"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Occlusion"], "extent": [3427, 3445], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Mask by Occlusion"], "extent": [3445, 3465], "body": [{"type": "para", "indent": 4, "text": ["Create a mask based on nearby obstructed terrain areas."], "extent": [3489, 3550]}], "container": true, "attrs": {"id": "maskbydir"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Minimum Occlusion"], "extent": [663, 682], "body": [{"type": "para", "indent": 4, "text": ["Scales the output mask. Areas with occlusion less than or equal to this value will have mask 0.0."], "extent": [708, 811]}], "container": true, "attrs": {"id": "minexposure"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Maximum Occlusion"], "extent": [811, 830], "body": [{"type": "para", "indent": 4, "text": ["Scales the output mask. Areas with occlusion greater than or equal to this value with have mask 1.0."], "extent": [856, 962]}], "container": true, "attrs": {"id": "maxexposure"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Maximum Occlusion"], "extent": [811, 830], "body": [{"type": "para", "indent": 4, "text": ["Scales the output mask. Areas with occlusion greater than or equal to this value with have mask 1.0."], "extent": [856, 962]}], "container": true, "attrs": {"id": "maxexposure"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 3, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Quality"], "extent": [3703, 3719], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["View Distance"], "extent": [3719, 3735], "body": [], "container": true, "attrs": {"id": "viewdistance"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Step Scale"], "extent": [3758, 3770], "body": [], "container": true, "attrs": {"id": "stepscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Number of Searches"], "extent": [3790, 3810], "body": [], "container": true, "attrs": {"id": "numseraches"}, "role": "item"}], "container": true, "role": "item_group"}]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Layer Bindings"], "extent": [3832, 3853], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Mask Layer"], "extent": [124, 136], "body": [{"type": "para", "indent": 4, "text": ["If a mask volume is wired into this node\u2019s second input, this specifies which volume in the second input to use to mask this node\u2019s effect, usually ", {"type": "code", "text": ["mask"]}, ". Click the ", {"type": "q", "text": ["Add mask paint"]}, " button to paint the mask directly in the viewport (this automatically adds a paint node to the second input)."], "extent": [160, 459]}], "container": true, "attrs": {"id": "masklayer"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Height Layer"], "extent": [16, 30], "body": [{"type": "para", "indent": 4, "text": ["The name of the height volume to operate on, usually ", {"type": "code", "text": ["height"]}, "."], "extent": [56, 124]}], "container": true, "attrs": {"id": "heightlayer"}, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}], "title": ["HeightField Mask by Feature"], "summary": ["Creates a mask based on different features of the height layer."], "included": ["/nodes/sop/_heightfield_common", "/nodes/sop/heightfield_maskbyocclusion"]}