{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "pca", "icon": "SOP/pca", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Principal Component Analysis"], "extent": [66, 99]}, {"type": "summary", "indent": 0, "text": ["Computes the principle components of volume or point data."], "extent": [99, 166]}, {"type": "para", "indent": 0, "text": [{"scheme": "Wp", "value": "http://en.wikipedia.org/wiki/Principal component analysis", "type": "link", "text": ["Principal Component Analysis"], "exists": true}, ", or\nPCA, is a way to reduce high dimensional data into the most important\ncomponents.  It does this by finding features that reflect the most\nvariation in the data."], "extent": [166, 395]}, {"type": "para", "indent": 0, "text": ["For a point cloud, this will correspond to the most important\ndirections, so often is used for oriented box fitting."], "extent": [395, 513]}, {"type": "para", "indent": 0, "text": ["After the principal components are determined, further samples can be\nprojected onto the components.  This gives a different view of the\ndata where the most important dimensions are provided first.  The\nsample can then be reconstructed by linearly combining the components\nwith the computed weights."], "extent": [513, 814]}, {"type": "para", "indent": 0, "text": ["By only using a few of the principal components in the reconstruction\nthis acts as a filter removing the least important noise.  Given\ntemporal input data this forms a sort of de-jitter filter that targets\nuncorrelated noise."], "extent": [814, 1041]}, {"type": "para", "indent": 0, "text": ["For an example that shows how linear blend skinning can be improved on by learning from random poses, download the ", {"scheme": null, "value": "https://www.sidefx.com/contentlibrary/ml-deformer", "type": "link", "text": ["ML Deformer files"], "exists": true}, " from the Content Library."], "extent": [1041, 1253]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1253, 1265], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Data Type"], "extent": [1265, 1277], "body": [{"type": "para", "indent": 4, "text": ["The source data to use for analysis."], "extent": [1296, 1342]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Point Attributes"], "extent": [1342, 1364], "body": [{"type": "para", "indent": 8, "text": ["The ", {"type": "code", "text": ["P"]}, " position attribute is used.  This is batched into\n        consecutive groups; so all the input samples should have the\n        same number of points and be concatenated together."], "extent": [1364, 1568]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Volumes"], "extent": [1568, 1581], "body": [{"type": "para", "indent": 8, "text": ["Each volume becomes a sample.  All the volumes must match in\n        resolution and tuple-size."], "extent": [1581, 1686]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "datatype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Attributes"], "extent": [1686, 1698], "body": [{"type": "para", "indent": 4, "text": ["A space separated list of point attributes to analyse. To save memory, only these are output on the list of modes."], "extent": [1716, 1836]}, {"type": "para", "indent": 4, "text": ["In the reconstruction and projection modes, attributes on this\n    list will be used for the projection and reconstruction."], "extent": [1836, 1969]}], "container": true, "attrs": {"id": "attribs"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Points per Sample"], "extent": [1969, 1988], "body": [{"type": "para", "indent": 4, "text": ["How many points will form each sample for the analysis.  This must\n    divide evenly into the total number of points."], "extent": [2005, 2137]}], "container": true, "attrs": {"id": "stride"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mode"], "extent": [2137, 2143], "body": [{"type": "para", "indent": 4, "text": ["In addition to computing the PCA, this node can also project and\n    reconstruct."], "extent": [2158, 2249]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Analyse"], "extent": [2249, 2262], "body": [{"type": "para", "indent": 8, "text": ["Find the principal components of the input data.  The output\n        will consist of the average along with the specified\n        number of orthonormal components.  The eigenvalue associated\n        with each component is also provided in the ", {"type": "code", "text": ["eval"]}, " attribute -\n        this gives an indication of the importance of it.  The\n        ", {"type": "code", "text": ["component"]}, " attribute stores which component it belongs to,\n        with ", {"type": "code", "text": ["0"]}, " being the average."], "extent": [2262, 2700]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [2700, 2714], "body": [{"type": "para", "indent": 12, "text": ["This can be a very slow operation as the dimensionality or\n            sample size increases.  The cost is proportional to the\n            minimum of the two, but grows very quickly, so you will\n            want either the dimension or the sample size to be less\n            than 25,000."], "extent": [2714, 3023]}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"type": "dt", "indent": 4, "text": ["Scree Chart"], "extent": [3023, 3040], "body": [{"type": "para", "indent": 8, "text": ["A ", {"scheme": "Wp", "value": "http://en.wikipedia.org/wiki/Scree plot", "type": "link", "text": ["Scree Chart"], "exists": true}, " provides a way to intuitively\n        see where additional components will form diminishing returns.\n        Two graphs are given; one is the relative contribution of each\n        component; the other is the cumulative total of all components\n        up to that point.  Usually a bend in the graph is used as a\n        signal of where additional components are noise.  But one can\n        also use the cumulative total to make sure a certain\n        percentage of the variation is captured."], "extent": [3040, 3578]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Project"], "extent": [3578, 3591], "body": [{"type": "para", "indent": 8, "text": ["This projects the input sample onto the set of components\n        specified by the second input.  The second input is usually\n        the result of another Principal Component Analysis SOP in\n        Analyse mode."], "extent": [3591, 3814]}, {"type": "para", "indent": 8, "text": ["The sample is projected onto each of the components generating\n        an output point with a ", {"type": "code", "text": ["weight"]}, " attribute specifying how much\n        that component contributed.   Linearly combining all the\n        components with these weights will give the best\n        reconstruction possible of the input sample."], "extent": [3814, 4139]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Reconstruct"], "extent": [4139, 4156], "body": [{"type": "para", "indent": 8, "text": ["Given a set of points with ", {"type": "code", "text": ["weight"]}, " attributes; the second\n        input\u2019s components are linearly combined to form the output.\n        This can be used to reconstruct a known sample.  If it was\n        projected with fewer components than the full dimensionality,\n        this will remove the least-important variations in the\n        original sample set, thereby filtering out uncorrelated noise."], "extent": [4156, 4564]}, {"type": "para", "indent": 8, "text": ["The weights can also come from other sources, or be scaled to\n        achieve interesting effects."], "extent": [4564, 4680]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "mode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Include Mean Weights"], "extent": [4680, 4702], "body": [{"type": "para", "indent": 4, "text": ["In literature, PCA is usually described as something run over\n    normalized data where the mean has already been extracted.\n    However, for convenience, the mean of the input is included in the\n    output of the analysis.  Likewise, the project and reconstruct\n    modes will include as the first weighting point the weight for the\n    mean.  In projection this is always one, and in reconstruction it\n    likewise will often be one."], "extent": [4731, 5172]}, {"type": "para", "indent": 4, "text": ["Turning this off will cause the projection not to output the mean weight and the reconstruction to assume it is one.  This can simplify exporting these weights to other processes."], "extent": [5172, 5361]}], "container": true, "attrs": {"id": "includemeanweights"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Skip First"], "extent": [5361, 5373], "body": [{"type": "para", "indent": 4, "text": ["The start of the scree graph often drops quickly.  Skipping the\n    first entries can make it easier to home in and zoom into the\n    interesting area."], "extent": [5388, 5554]}], "container": true, "attrs": {"id": "skip"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Number of Components"], "extent": [5554, 5576], "body": [{"type": "para", "indent": 4, "text": ["How many components to extract.  ", {"type": "code", "text": ["0"]}, " will extract all the\n    components allowing a full reconstruction of the input samples."], "extent": [5591, 5731]}], "container": true, "attrs": {"id": "comp"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["X Scale"], "extent": [5731, 5740], "body": [{"type": "para", "indent": 4, "text": ["The horizontal scale of the scree chart."], "extent": [5757, 5812]}], "container": true, "attrs": {"id": "xscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Y Scale"], "extent": [5812, 5821], "body": [{"type": "para", "indent": 4, "text": ["The vertical scale of the scree chart."], "extent": [5838, 5891]}], "container": true, "attrs": {"id": "yscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Prop Var Color"], "extent": [5891, 5907], "body": [{"type": "para", "indent": 4, "text": ["The color of the proportional variance of each component in the\n    scree chart."], "extent": [5927, 6022]}], "container": true, "attrs": {"id": "propcolor"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Cum Var Color"], "extent": [6022, 6037], "body": [{"type": "para", "indent": 4, "text": ["The color of the cumulative variance in the scree chart."], "extent": [6056, 6122]}], "container": true, "attrs": {"id": "cumcolor"}, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [6122, 6131], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/linearsolver", "type": "link", "text": "", "fullpath": "/nodes/sop/linearsolver.html"}], "extent": [6131, 6157]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/onnx", "type": "link", "text": "", "fullpath": "/nodes/sop/onnx.html"}], "extent": [6157, 6176]}], "container": true}], "text": "Related"}], "title": ["Principal Component Analysis"], "summary": ["Computes the principle components of volume or point data."]}