{"type": "root", "attrs": {"type": "node", "context": "cop", "internal": "stamppoint", "icon": "COP/stamppoint", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Stamp Points"], "extent": [80, 97]}, {"type": "summary", "indent": 0, "text": ["Stamps layers from point positions."], "extent": [97, 141]}, {"type": "para", "indent": 0, "text": ["This operation takes a point cloud in a geometry input and stamps each\none into the output layer using a corresponding input layer."], "extent": [141, 274]}, {"type": "para", "indent": 0, "text": ["Point attriubtes are used to drive the stamping, allowing SOPs to be\nused to build complicated effects."], "extent": [274, 379]}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [379, 385], "body": [{"type": "para", "indent": 4, "text": ["While points can be depth sorted, this is a 2D operation and the\n    resulting stamps are always of camera-facing textures with no\n    perspective transform."], "extent": [385, 548]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [548, 560], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Signature"], "extent": [560, 572], "body": [{"type": "para", "indent": 4, "text": ["The layer type that the source accepts."], "extent": [596, 641]}, {"type": "para", "indent": 4, "text": ["See ", {"scheme": null, "value": "/copernicus/glossary#signatures", "type": "link", "text": ["Signatures"], "fullpath": "/copernicus/glossary.html#signatures", "fragment": "#signatures"}, " for more information."], "extent": [641, 721]}], "container": true, "attrs": {"id": "signature"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Color"], "extent": [721, 733], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Background Color"], "extent": [733, 752], "body": [{"type": "para", "indent": 4, "text": ["The initial background color."], "extent": [765, 809]}], "container": true, "attrs": {"id": "bg"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Background Alpha"], "extent": [809, 827], "body": [{"type": "para", "indent": 4, "text": ["The initial background alpha."], "extent": [849, 888]}], "container": true, "attrs": {"id": "bgalpha"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Stamp Color"], "extent": [888, 901], "body": [{"type": "para", "indent": 4, "text": ["A tint for the stamp."], "extent": [914, 950]}], "container": true, "attrs": {"id": "fg"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Stamp Alpha"], "extent": [950, 963], "body": [{"type": "para", "indent": 4, "text": ["A scale for the stamped alpha."], "extent": [981, 1026]}], "container": true, "attrs": {"id": "fgalpha"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Clipping"], "extent": [1026, 1041], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Shape"], "extent": [1041, 1049], "body": [{"type": "para", "indent": 4, "text": ["If a ", {"type": "code", "text": ["clipshape"]}, " is not provided, this determines the shape of the\n    stamp.  If it is provided, it is treated as an SDF and the zero\n    contour will determine the cut out shape."], "extent": [1072, 1262]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Square"], "extent": [1262, 1274], "body": [{"type": "para", "indent": 8, "text": ["A square."], "extent": [1274, 1301]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Circle"], "extent": [1301, 1313], "body": [{"type": "para", "indent": 8, "text": ["A perfect circle."], "extent": [1313, 1344]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "cutout_shape"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Scale"], "extent": [1344, 1351], "body": [{"type": "para", "indent": 4, "text": ["A uniform scale for the stamped values.  This is multiplied by a\n    ", {"type": "code", "text": ["pscale"]}, " attribute."], "extent": [1367, 1470]}], "container": true, "attrs": {"id": "scale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Angle"], "extent": [1470, 1477], "body": [{"type": "para", "indent": 4, "text": ["An angle in degrees to rotate the stamps by.  This is added to a\n    ", {"type": "code", "text": ["spriterot"]}, " for the final angle."], "extent": [1493, 1604]}], "container": true, "attrs": {"id": "angle"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Shape Edge Filter"], "extent": [1604, 1623], "body": [{"type": "para", "indent": 4, "text": ["A filter-scale to apply for filtering the edge of the cutout of a\n    stamped shape.  Zero will make it all or nothing but result in\n    aliasing, ", {"type": "code", "text": ["1"]}, " will do the expected level of aliasing for the\n    current resolution."], "extent": [1651, 1887]}], "container": true, "attrs": {"id": "cutout_edgefilter"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Shape Falloff"], "extent": [1887, 1902], "body": [{"type": "para", "indent": 4, "text": ["How much into the shape the falloff region should extend."], "extent": [1927, 1999]}], "container": true, "attrs": {"id": "cutout_falloff"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Options"], "extent": [1999, 2013], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Instancing Attributes"], "extent": [2013, 2037], "body": [{"type": "para", "indent": 4, "text": ["Attributes in Houdini can specify instancing either through\n    ", {"type": "code", "text": ["sprite"]}, " attributes, such as with the ", {"scheme": "Node", "value": "/nodes//sop/sprite", "type": "link", "text": ["Sprite SOP"], "fullpath": "/nodes//sop/sprite.html"}, ", or through the\n    standard copy and transform attributes."], "extent": [2062, 2259]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Automatic"], "extent": [2259, 2274], "body": [{"type": "para", "indent": 8, "text": ["Detect which attributes to use by what are present."], "extent": [2274, 2335]}, {"type": "para", "indent": 8, "text": ["If ", {"type": "code", "text": ["orient"]}, ", ", {"type": "code", "text": ["transform"]}, ", ", {"type": "code", "text": ["up"]}, " and ", {"type": "code", "text": ["N"]}, ", or ", {"type": "code", "text": ["up"]}, " and ", {"type": "code", "text": ["v"]}, "\n        are present, the standard attributes will be used."], "extent": [2335, 2467]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Standard Instancing"], "extent": [2467, 2492], "body": [{"type": "para", "indent": 8, "text": ["Use the standard instancing attributes.  These use the\n        standard attributes such as ", {"type": "code", "text": ["orient"]}, " and ", {"type": "code", "text": ["up"]}, " to construct a\n        transform for the point.  This is then used to compute the\n        proper ", {"type": "code", "text": ["spriterot"]}, " and ", {"type": "code", "text": ["spritescale"]}, " to match it."], "extent": [2492, 2758]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Sprite"], "extent": [2758, 2770], "body": [{"type": "para", "indent": 8, "text": ["Use the standard sprite attributes.  This uses ", {"type": "code", "text": ["spriterot"]}, ",\n        ", {"type": "code", "text": ["spritescale"]}, ", and ", {"type": "code", "text": ["spriteuv"]}, "."], "extent": [2770, 2882]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "attribmode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Up Axis"], "extent": [2882, 2891], "body": [{"type": "para", "indent": 4, "text": ["When converting standard instancing attributes, you must know\n    which axis maps to ", {"type": "q", "text": ["up"]}, " on the stamp."], "extent": [2908, 3021]}], "container": true, "attrs": {"id": "upaxis"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Rotation from"], "extent": [3021, 3036], "body": [{"type": "para", "indent": 4, "text": ["Which axis is read out to determine the effective rotation, as\n    they may not be consistent in the case of shears, etc."], "extent": [3061, 3192]}], "container": true, "attrs": {"id": "rotationmethod"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Number of Stamps"], "extent": [3192, 3210], "body": [{"type": "para", "indent": 4, "text": ["The number of possible stamps to use.  These are indexed from zero\n    with the ", {"type": "code", "text": ["stamp"]}, " attribute."], "extent": [3230, 3343]}], "container": true, "attrs": {"id": "numstamps"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Filter"], "extent": [3343, 3351], "body": [{"type": "para", "indent": 4, "text": ["The method used to sample the image."], "extent": [3372, 3414]}, {"type": "para", "indent": 4, "text": ["The default value is ", {"type": "code", "text": ["Box"]}, ". See ", {"scheme": null, "value": "/copernicus/glossary#filter", "type": "link", "text": ["Filters"], "fullpath": "/copernicus/glossary.html#filter", "fragment": "#filter"}, " for more information."], "extent": [3414, 3515]}], "container": true, "attrs": {"id": "filter"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blend Method"], "extent": [3515, 3529], "body": [{"type": "para", "indent": 4, "text": ["When mulitple stamps overlap, this controls how they blend\n    together."], "extent": [3545, 3627]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Depth-Sorted Over"], "extent": [3627, 3650], "body": [{"type": "para", "indent": 8, "text": ["The points are pre-sorted by their depth.  The farthest ones\n        are rendered first, so closer points paint over them.  Because\n        this needs to sort this can be expensive."], "extent": [3650, 3849]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Unsorted Depth-Weighted Over"], "extent": [3849, 3883], "body": [{"type": "para", "indent": 8, "text": ["A non-linear weighting is applied that roughly approximates\n        depth-sorting without the need for sorting."], "extent": [3883, 4012]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Add"], "extent": [4012, 4021], "body": [{"type": "para", "indent": 8, "text": ["The stamps add together."], "extent": [4021, 4063]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Subtract"], "extent": [4063, 4077], "body": [{"type": "para", "indent": 8, "text": ["Each stamp subtracts its value, likely requiring background to\n        start non-zero."], "extent": [4077, 4181]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Multiply"], "extent": [4181, 4195], "body": [{"type": "para", "indent": 8, "text": ["Each stamp multiplies its value, likely requiring background to\n        start non-zero."], "extent": [4195, 4300]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Maximum"], "extent": [4300, 4313], "body": [{"type": "para", "indent": 8, "text": ["The maximum of each stamp with the current background is used."], "extent": [4313, 4393]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Minimum"], "extent": [4393, 4406], "body": [{"type": "para", "indent": 8, "text": ["The minimum of each stamp with the current background is used."], "extent": [4406, 4491]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "blend"}, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [4491, 4499], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["size_ref"], "extent": [147, 158], "body": [{"type": "para", "indent": 4, "text": ["A representative layer that determines the size of the output image and controls the metadata."], "extent": [158, 257]}], "container": true}, {"type": "dt", "indent": 4, "text": ["points"], "extent": [4555, 4567], "body": [{"type": "para", "indent": 8, "text": ["Geometry containing points to stamp."], "extent": [4567, 4613]}], "container": true}, {"type": "dt", "indent": 4, "text": ["clipshape"], "extent": [4613, 4628], "body": [{"type": "para", "indent": 8, "text": ["An SDF to use as a cut-out for the stamped textures.  This\n        allows sharp shapes to be used with arbitrary textures."], "extent": [4628, 4760]}], "container": true}, {"type": "dt", "indent": 4, "text": ["pointmask"], "extent": [4760, 4775], "body": [{"type": "para", "indent": 8, "text": ["A mask to select which points will stamp.  This is an\n        all-or-nothing mask. It stamps if a point\u2019s location is in this mask, otherwise it doesn\u2019t stamp."], "extent": [4775, 4944]}], "container": true}, {"type": "dt", "indent": 4, "text": ["stamp0"], "extent": [4944, 4956], "body": [{"type": "para", "indent": 8, "text": ["A sequence of layers to stamp.  Up to a maximum number of\n        8 layers can be input.  The ", {"type": "code", "text": ["stamp"]}, " integer point attribute\n        can be used to select which one is used."], "extent": [4956, 5140]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [5140, 5149], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["stamp"], "extent": [5149, 5160], "body": [{"type": "para", "indent": 8, "text": ["A layer with the result of the stamping applied."], "extent": [5160, 5218]}], "container": true}, {"type": "dt", "indent": 4, "text": ["id"], "extent": [5218, 5226], "body": [{"type": "para", "indent": 8, "text": ["The ", {"type": "code", "text": ["id"]}, " attribute of the point that contributed the most, or\n        the point number if that attribute isn\u2019t present."], "extent": [5226, 5355]}], "container": true}, {"type": "dt", "indent": 4, "text": ["uv"], "extent": [5355, 5363], "body": [{"type": "para", "indent": 8, "text": ["The uv coordinates of the point that contributed the most to\n        this pixel.  This is in image space."], "extent": [5363, 5478]}], "container": true}], "container": true}], "text": "Outputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [5478, 5487], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/cop/rasterizegeo", "type": "link", "text": "", "fullpath": "/nodes/cop/rasterizegeo.html"}], "extent": [5487, 5514]}], "container": true}], "text": "Related"}], "title": ["Stamp Points"], "summary": ["Stamps layers from point positions."], "included": ["/nodes/cop/_input_descriptions"]}