{"type": "root", "attrs": {"type": "node", "context": "top", "internal": "localscheduler", "icon": "TOP/scheduler", "since": "17.5", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Local Scheduler"], "extent": [96, 116]}, {"type": "summary", "indent": 0, "text": ["Schedules work items on the local machine."], "extent": [116, 167]}, {"type": "para", "indent": 0, "text": ["This node is the default scheduler that executes work items on your local\nmachine. This node also runs its scheduled work items in parallel."], "extent": [167, 309]}, {"type": "para", "indent": 0, "text": ["This node lets you:"], "extent": [309, 330]}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["Specify the total number of work items running at once with the ", {"scheme": null, "value": "#maxprocsmenu", "type": "link", "text": ["Total Slots"], "fullpath": "/nodes/top/localscheduler.html#maxprocsmenu", "fragment": "#maxprocsmenu"}, " and ", {"scheme": null, "value": "#local_CPUs_to_use", "type": "link", "text": ["Slots Per Work Item"], "fullpath": "/nodes/top/localscheduler.html#local_CPUs_to_use", "fragment": "#local_CPUs_to_use"}, " parameters."], "extent": [330, 481]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Specify the total resources of the scheduler with the ", {"type": "ui", "text": ["Total Slots"]}, " parameter."], "extent": [481, 564]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": ["Set how many work items should run at once with the ", {"type": "ui", "text": ["Slots Per Work Item"]}, " parameter."], "extent": [564, 654]}], "container": true}, {"type": "para", "indent": 0, "text": ["These parameters are ", {"type": "em", "text": ["not"]}, " related to the multi-threading of individual processes. To control the multi-threading of Houdini work items, use the ", {"scheme": null, "value": "#local_houdinimaxthreads", "type": "link", "text": ["Houdini Max Threads"], "fullpath": "/nodes/top/localscheduler.html#local_houdinimaxthreads", "fragment": "#local_houdinimaxthreads"}, " parameter."], "extent": [654, 858]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [858, 863], "body": [{"type": "para", "indent": 4, "text": ["To execute work items on a farm or on remote machines, use a different scheduler like the ", {"scheme": "Node", "value": "/nodes/top/hqueuescheduler", "type": "link", "text": ["HQueue Scheduler"], "fullpath": "/nodes/top/hqueuescheduler.html"}, "."], "extent": [863, 1003]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1003, 1015], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Scheduler"], "extent": [1015, 1032], "body": [{"type": "para", "indent": 0, "text": ["Global parameters for all work items using this scheduler."], "extent": [1032, 1093]}, {"level": 3, "type": "sep", "indent": 0, "text": [" Scheduling "], "extent": [1093, 1112], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Total Slots"], "extent": [1112, 1130], "body": [{"type": "para", "indent": 8, "text": ["Specifies the number of available slots for this scheduler to use when executing work items. This also provides some default slot counts based on the detected CPU. A higher slot count means more work items can run at once."], "extent": [1157, 1389]}, {"type": "para", "indent": 8, "text": ["For more information, see ", {"scheme": null, "value": "/tops/schedulers#limits", "type": "link", "text": ["limiting resource usage"], "fullpath": "/tops/schedulers.html#limits", "fragment": "#limits"}, "."], "extent": [1389, 1475]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Equal to 1/4 of Total CPU Count"], "extent": [1475, 1516], "body": [{"type": "para", "indent": 12, "text": ["Use the number of logical cores divided by four."], "extent": [1516, 1578]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Equal to CPU Count Less One"], "extent": [1578, 1615], "body": [{"type": "para", "indent": 12, "text": ["Use the number of logical cores less 1."], "extent": [1615, 1668]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Custom Slot Count"], "extent": [1668, 1695], "body": [{"type": "para", "indent": 12, "text": ["Use the number specified in the ", {"type": "ui", "text": ["Custom Slot Count"]}, " field."], "extent": [1695, 1769]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Custom Slot Count"], "extent": [1769, 1796], "body": [{"type": "para", "indent": 12, "text": ["The number of slots available to execute work items. A positive number sets the slot count. A negative number sets the slot count as the total logical CPU cores minus the number specified in this field."], "extent": [1823, 2039]}], "container": true, "attrs": {"id": "maxprocs"}}], "container": true}], "container": true, "attrs": {"id": "maxprocsmenu"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Verbose Logging"], "extent": [2039, 2060], "body": [{"type": "para", "indent": 8, "text": ["Print extra debugging information in job output logs."], "extent": [2082, 2145]}], "container": true, "attrs": {"id": "verbose"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Limit Jobs"], "extent": [1860, 1872], "body": [{"type": "para", "indent": 4, "text": ["When enabled, sets the maximum number of jobs that can be submitted by the scheduler at the same time."], "extent": [1895, 2003]}, {"type": "para", "indent": 4, "text": ["For farm schedulers like Tractor or HQueue, this parameter can be used to limit the total number of jobs submitted to the render farm itself. Setting this parameter can help limit the load on the render farm, especially when the PDG graph has a large number of small tasks."], "extent": [2003, 2282]}], "container": true, "attrs": {"id": "pdg_maxtasks"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Block on Failed Work Items"], "extent": [5860, 5888], "body": [{"type": "para", "indent": 4, "text": ["When on, if there are any failed work items on the scheduler, then the cook is blocked from completing and the PDG graph cook is prevented from ending. This allows you to manually retry your failed work items. You can ", {"type": "em", "text": ["cancel"]}, " the scheduler\u2019s cook when it is blocked by failed work items by pressing the ", {"keys": ["ESC"], "type": "keys", "text": null}, " key, clicking the ", {"type": "ui", "text": ["Cancels the current cook"]}, " button in the ", {"scheme": null, "value": "/tops/ui#tasks_bar", "type": "link", "text": ["TOP tasks bar"], "fullpath": "/tops/ui.html#tasks_bar", "fragment": "#tasks_bar"}, ", or by using the cancel API method."], "extent": [5918, 6367]}], "container": true, "attrs": {"id": "pdg_waitforfailures"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Paths "], "extent": [2244, 2258], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Working Directory"], "extent": [16, 35], "body": [{"type": "para", "indent": 4, "text": ["Specifies the relative directory where the work generates intermediate files and output. The intermediate files are placed in a subdirectory. For the Local Scheduler or HQueue, typically ", {"type": "code", "text": ["$HIP"]}, " is used. For other schedulers, this should be a relative directory to ", {"type": "code", "text": ["Local Shared Root Path"]}, " and ", {"type": "code", "text": ["Remote Shared Root Path"]}, "; this path is then appended to these root paths."], "extent": [60, 433]}], "container": true, "attrs": {"id": "pdg_workingdir"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Hython"], "extent": [6607, 6615], "body": [{"type": "para", "indent": 4, "text": ["Determines which Houdini Python interpreter (hython) is used for your Houdini jobs. You can also specify this hython in a command using the ", {"type": "code", "text": ["PDG_HYTHON"]}, " token."], "extent": [6639, 6804]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Default"], "extent": [6804, 6817], "body": [{"type": "para", "indent": 8, "text": ["Use the default hython interpreter that is installed with Houdini."], "extent": [6817, 6893]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Custom"], "extent": [6893, 6905], "body": [{"type": "para", "indent": 8, "text": ["Use the executable path specified by the ", {"type": "ui", "text": ["Hython Executable"]}, " parameter."], "extent": [6905, 6988]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pdg_hythonbin"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Hython Executable"], "extent": [6988, 7007], "body": [{"type": "para", "indent": 4, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Hython"]}, " is set to ", {"type": "ui", "text": ["Custom"]}, "."], "extent": [7046, 7122]}, {"type": "para", "indent": 4, "text": ["The full path to the hython executable to use for your Houdini jobs."], "extent": [7122, 7196]}], "container": true, "attrs": {"id": "pdg_hythonbincustomuniversal"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Load Item Data From"], "extent": [7196, 7217], "body": [{"type": "para", "indent": 4, "text": ["Determines how jobs processed by this scheduler should load work item attributes and data. "], "extent": [7250, 7347]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Temporary JSON File"], "extent": [7347, 7372], "body": [{"type": "para", "indent": 8, "text": ["The scheduler writes out a ", {"type": "code", "text": [".json"]}, " file for each work item to the PDG temporary file directory. This option is selected by default."], "extent": [7372, 7513]}], "container": true}, {"type": "dt", "indent": 4, "text": ["RPC Message"], "extent": [7513, 7530], "body": [{"type": "para", "indent": 8, "text": ["The scheduler\u2019s running work items request attributes and data over RPC. If the scheduler is a farm scheduler, then the job scripts running on the farm will also request item data from the submitter when creating their out-of-process work item objects. "], "extent": [7530, 7793]}, {"type": "para", "indent": 8, "text": ["This parameter option removes the need to write data files to disk and is useful when your local and remote machines ", {"type": "em", "text": ["do not"]}, " share a file system."], "extent": [7793, 7949]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pdg_workitemdatasource"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Compress Work Item Data"], "extent": [8443, 8468], "body": [{"type": "para", "indent": 4, "text": ["When on, PDG compresses the work item ", {"type": "code", "text": [".json"]}, " files when writing them to disk."], "extent": [8503, 8587]}, {"type": "para", "indent": 4, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Load Item Data From"]}, " is set to ", {"type": "ui", "text": ["Temporary JSON File"]}, "."], "extent": [8587, 8689]}], "container": true, "attrs": {"id": "pdg_compressworkitemdata"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Path Mapping"], "extent": [433, 447], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Global"], "extent": [469, 481], "body": [{"type": "para", "indent": 8, "text": ["If the ", {"scheme": null, "value": "/ref/panes/pdgpathmap", "type": "link", "text": ["PDG Path Map"], "fullpath": "/ref/panes/pdgpathmap.html"}, " exists, then it is applied to file paths."], "extent": [481, 576]}], "container": true}, {"type": "dt", "indent": 4, "text": ["None"], "extent": [576, 586], "body": [{"type": "para", "indent": 8, "text": ["Delocalizes paths using the ", {"type": "code", "text": ["PDG_DIR"]}, " token."], "extent": [586, 640]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pdg_mapmode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Path Map Zone"], "extent": [640, 655], "body": [{"type": "para", "indent": 4, "text": ["When on, specifies a custom mapping zone to apply to all jobs executed by this scheduler. Otherwise, the local platforms are ", {"type": "code", "text": ["LINUX"]}, ", ", {"type": "code", "text": ["MAC"]}, " or ", {"type": "code", "text": ["WIN"]}, "."], "extent": [677, 832]}], "container": true, "attrs": {"id": "pdg_mapzone"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Validate Outputs When Recooking"], "extent": [832, 865], "body": [{"type": "para", "indent": 4, "text": ["When on, PDG validates the output files of the scheduler\u2019s cooked work items when the graph is recooked to see if the files still exist on disk. Work items that are missing output files are then automatically dirtied and cooked again. If any work items are dirtied by parameter changes, then their cache files are also automatically invalidated. ", {"type": "ui", "text": ["Validate Outputs When Recooking"]}, " is ", {"type": "em", "text": ["on"]}, " by default."], "extent": [895, 1302]}], "container": true, "attrs": {"id": "pdg_validateoutputs"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Check Expected Outputs on Disk"], "extent": [1302, 1334], "body": [{"type": "para", "indent": 4, "text": ["When on, PDG looks for any unexpected outputs (for example, like outputs that can result from custom output handling internal logic) that were not explicitly reported when the scheduler\u2019s work items finished cooking. This check occurs immediately after the scheduler marks work items as cooked, and expected outputs that were reported normally are not checked. If PDG finds any files that are different from the expected outputs, then they are automatically added as real output files."], "extent": [1369, 1860]}], "container": true, "attrs": {"id": "pdg_checkexpectedoutputs"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 4, "text": [" Temp Directory "], "extent": [2731, 2758], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Location"], "extent": [2758, 2777], "body": [{"type": "para", "indent": 12, "text": ["Determines where the local temporary files are written to. Files that are written to this location are needed for the PDG cook, but are ", {"type": "em", "text": ["not"]}, " typically the end product and can be removed when the cook completes. "], "extent": [2807, 3033]}, {"type": "para", "indent": 12, "text": ["For example, log files and python scripts are some of the files that are usually written during the cook."], "extent": [3033, 3152]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["Working Directory"], "extent": [3152, 3183], "body": [{"type": "para", "indent": 16, "text": ["Use ", {"type": "code", "text": ["pdgtemp"]}, " subdirectory specified in the ", {"type": "ui", "text": ["Working Directory"]}, " field."], "extent": [3183, 3273]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Houdini Temp"], "extent": [3273, 3299], "body": [{"type": "para", "indent": 16, "text": ["Use ", {"type": "code", "text": ["pdgtemp"]}, " subdirectory of ", {"type": "code", "text": ["$HOUDINI_TEMP_DIR"]}, "."], "extent": [3299, 3367]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Custom"], "extent": [3367, 3387], "body": [{"type": "para", "indent": 16, "text": ["Use the custom directory specified by in the ", {"type": "ui", "text": ["Custom"]}, " field."], "extent": [3387, 3467]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "tempdirmenu"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Append PID"], "extent": [3467, 3487], "body": [{"type": "para", "indent": 12, "text": ["When on, a subdirectory is added to the location specified by the ", {"type": "ui", "text": ["Location"]}, " parameter and is named after the value of your Houdini session\u2019s PID (Process Identifier). The PID is typically a 3-5 digit number."], "extent": [3522, 3746]}, {"type": "para", "indent": 12, "text": ["This is necessary when multiple sessions of Houdini are cooking TOP graphs at the same time."], "extent": [3746, 3852]}], "container": true, "attrs": {"id": "tempdirappendpid"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Custom"], "extent": [3852, 3868], "body": [{"type": "para", "indent": 12, "text": ["The full path to the custom temporary directory."], "extent": [3900, 3962]}, {"type": "para", "indent": 12, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Directory Location"]}, " is set to ", {"type": "ui", "text": ["Custom"]}, "."], "extent": [3962, 4059]}], "container": true, "attrs": {"id": "tempdircustom"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Delete Temp Dir"], "extent": [7949, 7966], "body": [{"type": "para", "indent": 4, "text": ["Determines when PDG should automatically delete the temporary file directory associated with the scheduler."], "extent": [7994, 8107]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Never"], "extent": [8107, 8118], "body": [{"type": "para", "indent": 8, "text": ["PDG never automatically deletes the temp file directory."], "extent": [8118, 8184]}], "container": true}, {"type": "dt", "indent": 4, "text": ["When Scheduler is Deleted"], "extent": [8184, 8215], "body": [{"type": "para", "indent": 8, "text": ["PDG automatically deletes the temp file directory when the scheduler is deleted or when Houdini is closed."], "extent": [8215, 8331]}], "container": true}, {"type": "dt", "indent": 4, "text": ["When Cook Completes"], "extent": [8331, 8356], "body": [{"type": "para", "indent": 8, "text": ["PDG automatically deletes the temp file directory each time a cook completes."], "extent": [8356, 8443]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pdg_deletetempdir"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}], "container": true}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["RPC Server"], "extent": [4114, 4131], "body": [{"type": "para", "indent": 0, "text": ["Parameters for configuring the behavior of RPC connections from out of process jobs back to a scheduler instance."], "extent": [4131, 4247]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Ignore RPC Errors"], "extent": [8689, 8708], "body": [{"type": "para", "indent": 4, "text": ["Determines whether RPC errors should cause out of process jobs to fail."], "extent": [8738, 8815]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Never"], "extent": [8815, 8826], "body": [{"type": "para", "indent": 8, "text": ["RPC connection errors will cause work items to fail."], "extent": [8826, 8888]}], "container": true}, {"type": "dt", "indent": 4, "text": ["When Cooking Batches"], "extent": [8888, 8914], "body": [{"type": "para", "indent": 8, "text": ["RPC connection errors are ignored for batch work items, which typically make a per-frame RPC back to PDG to report output files and communicate sub item status. This option prevents long-running simulations from being killed on the farm, if the submitter Houdini session crashes or becomes unresponsive."], "extent": [8914, 9227]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Always"], "extent": [9227, 9239], "body": [{"type": "para", "indent": 8, "text": ["RPC connection errors will never cause a work item to fail. Note that if a work item can\u2019t communicate with the scheduler, it will be unable to report output files, attributes or its cook status back to the PDG graph."], "extent": [9239, 9466]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pdg_rpcignoreerrors"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Max RPC Errors"], "extent": [9466, 9482], "body": [{"type": "para", "indent": 4, "text": ["The maximum number of RPC failures that can occur before RPC is disabled in an out of process job."], "extent": [9509, 9613]}], "container": true, "attrs": {"id": "pdg_rpcmaxerrors"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Connection Timeout"], "extent": [9613, 9633], "body": [{"type": "para", "indent": 4, "text": ["The number of seconds to wait when an out of process jobs makes an RPC connection to the main PDG graph, before assuming the connection failed."], "extent": [9658, 9807]}], "container": true, "attrs": {"id": "pdg_rpctimeout"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Connection Retries"], "extent": [9807, 9827], "body": [{"type": "para", "indent": 4, "text": ["The number of times to retry a failed RPC call made by an out of process job."], "extent": [9852, 9935]}], "container": true, "attrs": {"id": "pdg_rpcretries"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Retry Backoff"], "extent": [9935, 9950], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Connection Retries"]}, " is greater than 0, this parameter determines how much time should be spent between consecutive retries."], "extent": [9975, 10112]}], "container": true, "attrs": {"id": "pdg_rpcbackoff"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Batch Poll Rate"], "extent": [10112, 10129], "body": [{"type": "para", "indent": 4, "text": ["Determines how quickly an out of process batch work item should poll the main Houdini session for dependency status updates, if the batch is configured to cook when it\u2019s first frame of work is ready. This has no impact on other types of batch work items."], "extent": [10152, 10412]}], "container": true, "attrs": {"id": "pdg_rpcbatch"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Release Job Slot When Polling"], "extent": [10412, 10443], "body": [{"type": "para", "indent": 4, "text": ["Determines whether or not the scheduler should decrement the number of active workers when a batch is polling for dependency updates."], "extent": [10468, 10606]}], "container": true, "attrs": {"id": "pdg_rpcrelease"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Job Parms"], "extent": [4560, 4576], "body": [{"type": "para", "indent": 0, "text": ["Job-specific parameters."], "extent": [4576, 4603]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [4603, 4608], "body": [{"type": "para", "indent": 4, "text": ["You can override these parameters per node with the ", {"type": "ui", "text": ["Edit Parameter Interface"]}, ". For more information, see ", {"scheme": null, "value": "/tops/schedulers#jobparms", "type": "link", "text": ["Scheduler Job Parms / Properties"], "fullpath": "/tops/schedulers.html#jobparms", "fragment": "#jobparms"}, "."], "extent": [4608, 4783]}], "container": true}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Scheduling "], "extent": [4783, 4802], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Single"], "extent": [4802, 4819], "body": [{"type": "para", "indent": 8, "text": ["When on, only one single work item is executed at a time."], "extent": [4846, 4913]}], "container": true, "attrs": {"id": "local_single"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Slots Per Work Item"], "extent": [4913, 4938], "body": [{"type": "para", "indent": 8, "text": ["When on, sets the number of slots consumed by each work item. Work items are only run by the scheduler if at least this number of slots are available."], "extent": [4970, 5130]}, {"type": "note_group", "body": [{"type": "note", "indent": 8, "role": "item", "extent": [5130, 5144], "body": [{"type": "para", "indent": 12, "text": ["The total number of slots that are available to the scheduler is determined by the ", {"type": "ui", "text": ["Total Slots"]}, " parameter setting."], "extent": [5144, 5275]}], "container": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 8, "text": ["If some of your tasks consume a lot of computational or memory resources, you can use the ", {"type": "ui", "text": ["Slots Per Work Item"]}, " parameter to change the maximum number of processes that are run in parallel. For example, if there are 8 slots available as determined by ", {"type": "ui", "text": ["Total Slots"]}, ", then a maximum of 8 processes will be executed in parallel. However, if ", {"type": "ui", "text": ["Slots Per Work Item"]}, " is set to 2 on the processor node, then a maximum of 4 processes will be executed in parallel with each task consuming 2 slots worth of resources in the scheduler."], "extent": [5275, 5814]}], "container": true, "attrs": {"id": "local_CPUs_to_use"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 4, "text": [" Minimum Available Memory "], "extent": [5814, 5851], "body": [{"type": "para", "indent": 8, "text": ["Specifies the amount of available memory that is ", {"type": "em", "text": ["required"]}, " to start a job. This allows you to delay a job from starting until a specific amount of memory is available."], "extent": [5884, 6062]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 8, "text": ["Rule"], "extent": [6062, 6076], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 12, "text": ["No Minimum"], "extent": [6114, 6138], "body": [{"type": "para", "indent": 16, "text": ["No check is performed for available memory."], "extent": [6138, 6199]}], "container": true}, {"type": "dt", "indent": 12, "text": ["MB Available"], "extent": [6199, 6225], "body": [{"type": "para", "indent": 16, "text": ["Check for the specified ", {"type": "ui", "text": ["Minimum MB"]}, "."], "extent": [6225, 6290]}], "container": true}, {"type": "dt", "indent": 12, "text": ["Percent Available"], "extent": [6290, 6321], "body": [{"type": "para", "indent": 16, "text": ["Check for the specified ", {"type": "ui", "text": ["Minimum Percent"]}, "."], "extent": [6321, 6387]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "local_useminfreemem"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Minimum MB"], "extent": [6387, 6407], "body": [{"type": "para", "indent": 12, "text": ["Sets the minimum amount of available memory in Megabytes (MBs). Available memory is the amount of memory that can be used by a process without going into swap."], "extent": [6442, 6615]}, {"type": "para", "indent": 12, "text": ["The parameter is only available when ", {"type": "ui", "text": ["Rule"]}, " is set to ", {"type": "ui", "text": ["MB Available"]}, "."], "extent": [6615, 6702]}], "container": true, "attrs": {"id": "local_minfreemem"}, "role": "item"}, {"type": "parameters_item", "indent": 8, "text": ["Minimum Percent"], "extent": [6702, 6727], "body": [{"type": "para", "indent": 12, "text": ["Sets the minimum amount of available memory as a percentage of the system\u2019s total memory. Available memory is the amount of memory that can be used by a process without going into swap."], "extent": [6766, 6965]}, {"type": "para", "indent": 12, "text": ["The parameter is only available when ", {"type": "ui", "text": ["Rule"]}, " is set to ", {"type": "ui", "text": ["Percent Available"]}, "."], "extent": [6965, 7057]}], "container": true, "attrs": {"id": "local_minfreemempct:"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "minimumavailmemory"}}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Tasks "], "extent": [7057, 7071], "body": [{"type": "para", "indent": 4, "text": ["When a work item process terminates with a non-zero exit code, it is marked as failed by default. These parameters change that behavior."], "extent": [7071, 7214]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["On Task Failure"], "extent": [7214, 7235], "body": [{"type": "para", "indent": 8, "text": ["Determines what happens when a work item fails."], "extent": [7266, 7323]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Report Error"], "extent": [7323, 7345], "body": [{"type": "para", "indent": 12, "text": ["The work item fails and an error message is added to the node."], "extent": [7345, 7421]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Report Warning"], "extent": [7421, 7445], "body": [{"type": "para", "indent": 12, "text": ["The work item succeeds and a warning message is added to the node."], "extent": [7445, 7525]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Retry Task"], "extent": [7525, 7545], "body": [{"type": "para", "indent": 12, "text": ["The work item restarts immediately, according to the ", {"type": "ui", "text": ["Maximum Retries"]}, " and ", {"type": "ui", "text": ["Retry Count Attribute"]}, " parameter settings."], "extent": [7545, 7681]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Ignore"], "extent": [7681, 7697], "body": [{"type": "para", "indent": 12, "text": ["The work item succeeds and no message is issued."], "extent": [7697, 7759]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "local_echandleby"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Handle All Non Zero"], "extent": [7759, 7784], "body": [{"type": "para", "indent": 8, "text": ["When off, lets you specify a particular exit code with the ", {"type": "ui", "text": ["Exit Code"]}, " field. All other non-zero exit codes are regarded as failures."], "extent": [7816, 7961]}], "container": true, "attrs": {"id": "local_echandleall"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Exit Code"], "extent": [7961, 7976], "body": [{"type": "para", "indent": 8, "text": ["Specifies the exit code that is handled by the ", {"type": "ui", "text": ["On Task Failure"]}, " parameter setting. All other non-zero exit codes are treated as failures."], "extent": [8009, 8159]}, {"type": "para", "indent": 8, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Handle All Non Zero"]}, " is ", {"type": "em", "text": ["off"]}, "."], "extent": [8159, 8240]}], "container": true, "attrs": {"id": "local_eccustomcode"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Maximum Retries"], "extent": [8240, 8261], "body": [{"type": "para", "indent": 8, "text": ["Sets the maximum number of times the work item will be restarted."], "extent": [8296, 8371]}], "container": true, "attrs": {"id": "local_maximumretries"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Retry Count Attribute"], "extent": [8371, 8398], "body": [{"type": "para", "indent": 8, "text": ["When on, adds an ", {"type": "code", "text": ["int"]}, " attribute set to the number of times the task was restarted."], "extent": [8432, 8525]}], "container": true, "attrs": {"id": "local_failcountattr"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Maximum Run Time"], "extent": [8525, 8547], "body": [{"type": "para", "indent": 8, "text": ["When on, this parameter determines the maximum time in seconds that a work item can run. When the time limit is exceeded, the work item\u2019s process is terminated."], "extent": [8575, 8745]}], "container": true, "attrs": {"id": "local_maxtime"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["On Task Timeout"], "extent": [8745, 8766], "body": [{"type": "para", "indent": 8, "text": ["Determines what status to set on the work items that timed out."], "extent": [8800, 8873]}, {"type": "para", "indent": 8, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Maximum Run Time"]}, " is enabled."], "extent": [8873, 8953]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Mark as Failed"], "extent": [8953, 8978], "body": [{"type": "para", "indent": 12, "text": ["Sets the work item\u2019s status to ", {"type": "em", "text": ["Failed"]}, "."], "extent": [8978, 9032]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Mark as Succeeded"], "extent": [9032, 9060], "body": [{"type": "para", "indent": 12, "text": ["Sets the work item\u2019s status to ", {"type": "em", "text": ["Succeeded"]}, ", and writes a message to the work item\u2019s log indicating that it was killed due to the time limit."], "extent": [9060, 9214]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "local_handletimeout"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Maximum Memory"], "extent": [9214, 9234], "body": [{"type": "para", "indent": 8, "text": ["When on, this parameter determines the maximum memory in megabytes that a work item can use before its process is terminated."], "extent": [9264, 9399]}], "container": true, "attrs": {"id": "local_maxmemory"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["On Memory Exceeded"], "extent": [9399, 9423], "body": [{"type": "para", "indent": 8, "text": ["Determines what status to set on the work items that exceed the ", {"type": "ui", "text": ["Maximum Memory"]}, " limit."], "extent": [9456, 9555]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Mark as Failed"], "extent": [9555, 9580], "body": [{"type": "para", "indent": 12, "text": ["Sets the work item\u2019s status to ", {"type": "em", "text": ["Failed"]}, "."], "extent": [9580, 9634]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Mark as Succeeded"], "extent": [9634, 9662], "body": [{"type": "para", "indent": 12, "text": ["Sets the work item\u2019s status to ", {"type": "em", "text": ["Succeeded"]}, ", and writes a message to the work item\u2019s log indicating that it was killed due to the memory limit."], "extent": [9662, 9818]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "local_handlememory"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Task Environment "], "extent": [9818, 9843], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Houdini Max Threads"], "extent": [9843, 9869], "body": [{"type": "para", "indent": 8, "text": ["When on, sets the maximum number of threads each work item can use. This also sets the ", {"type": "code", "text": ["HOUDINI_MAXTHREADS"]}, " environment value which is used by Houdini-based programs like Mantra, Karma, Hython, and HBatch."], "extent": [9907, 10122]}], "container": true, "attrs": {"id": "local_houdinimaxthreads"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Requires GUI Window"], "extent": [10122, 10147], "body": [{"type": "para", "indent": 8, "text": ["Normally, processes are started such that they do ", {"type": "em", "text": ["not"]}, " pop up command windows on the desktop when they run. However, some ", {"type": "strong", "text": ["Windows"]}, " applications require a GUI window."], "extent": [10182, 10359]}, {"type": "platform_group", "body": [{"ext": null, "type": "platform", "indent": 8, "text": ["Windows"], "role": "item", "extent": [10359, 10385], "body": [{"type": "para", "indent": 12, "text": ["When on, your work items can run GUI Applications in pop-up windows."], "extent": [10385, 10467]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "local_requireswindow"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Skip Loading Packages"], "extent": [10467, 10494], "body": [{"type": "para", "indent": 11, "text": ["When on, packages are not loaded into processes created by the local scheduler. Processes spawned by the local scheduler inherit the environment of the main Houdini session and usually do not need to load in Houdini packages again."], "extent": [10530, 10774]}], "container": true, "attrs": {"id": "local_skippackages"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Unset Variables"], "extent": [10774, 10795], "body": [{"type": "para", "indent": 8, "text": ["Specifies a space-separated list of environment variables that should be unset in or removed from the scheduler\u2019s task environment."], "extent": [10824, 10965]}], "container": true, "attrs": {"id": "local_envunset"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Environment File"], "extent": [10965, 10987], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Environment Variables"], "extent": [16, 39], "body": [{"type": "para", "indent": 4, "text": ["Additional work item environment variables can be specified here.  These will be added to the job\u2019s environment.  If the value of the variable is empty, it will be removed from the job\u2019s environment."], "extent": [61, 266]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Name"], "extent": [266, 276], "body": [{"type": "para", "indent": 8, "text": ["Name of the work item environment variable."], "extent": [305, 366]}], "container": true, "attrs": {"id": "local_envname#"}}, {"type": "dt", "indent": 4, "text": ["Value"], "extent": [366, 377], "body": [{"type": "para", "indent": 8, "text": ["Value of the work item environment variable."], "extent": [407, 461]}], "container": true, "attrs": {"id": "local_envvalue#"}}], "container": true}], "container": true, "attrs": {"id": "pdg_env_vars"}}], "container": true}, {"type": "para", "indent": 0, "text": ["Specifies an environment file for environment variables to be added to the job\u2019s environment. An environment variable from the file will overwrite an existing environment variable if they share identical names."], "extent": [461, 672], "body": [], "container": true, "attrs": {"id": "pdg_env_file_txt"}}], "container": true, "attrs": {"id": "local_env_file"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Environment Variables"], "extent": [16, 39], "body": [{"type": "para", "indent": 4, "text": ["Additional work item environment variables can be specified here.  These will be added to the job\u2019s environment.  If the value of the variable is empty, it will be removed from the job\u2019s environment."], "extent": [61, 266]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Name"], "extent": [266, 276], "body": [{"type": "para", "indent": 8, "text": ["Name of the work item environment variable."], "extent": [305, 366]}], "container": true, "attrs": {"id": "local_envname#"}}, {"type": "dt", "indent": 4, "text": ["Value"], "extent": [366, 377], "body": [{"type": "para", "indent": 8, "text": ["Value of the work item environment variable."], "extent": [407, 461]}], "container": true, "attrs": {"id": "local_envvalue#"}}], "container": true}], "container": true, "attrs": {"id": "pdg_env_vars"}, "role": "item"}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Specifies an environment file for environment variables to be added to the job\u2019s environment. An environment variable from the file will overwrite an existing environment variable if they share identical names."], "extent": [461, 672], "body": [], "container": true, "attrs": {"id": "pdg_env_file_txt"}}], "container": true}]}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [11156, 11165], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/top/pythonscheduler", "type": "link", "text": "", "fullpath": "/nodes/top/pythonscheduler.html"}], "extent": [11165, 11194]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/top/hqueuescheduler", "type": "link", "text": "", "fullpath": "/nodes/top/hqueuescheduler.html"}], "extent": [11194, 11223]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/top/tractorscheduler", "type": "link", "text": "", "fullpath": "/nodes/top/tractorscheduler.html"}], "extent": [11223, 11253]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/top/deadlinescheduler", "type": "link", "text": "", "fullpath": "/nodes/top/deadlinescheduler.html"}], "extent": [11253, 11285]}], "container": true}], "text": "Related"}], "title": ["Local Scheduler"], "summary": ["Schedules work items on the local machine."], "included": ["/nodes/top/_scheduler_common", "/nodes/top/_scheduler_task_env_common"]}